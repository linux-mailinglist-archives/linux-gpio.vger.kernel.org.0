Return-Path: <linux-gpio-owner@vger.kernel.org>
X-Original-To: lists+linux-gpio@lfdr.de
Delivered-To: lists+linux-gpio@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 1808C164293
	for <lists+linux-gpio@lfdr.de>; Wed, 19 Feb 2020 11:51:50 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726495AbgBSKvt (ORCPT <rfc822;lists+linux-gpio@lfdr.de>);
        Wed, 19 Feb 2020 05:51:49 -0500
Received: from mailgw02.mediatek.com ([210.61.82.184]:41246 "EHLO
        mailgw02.mediatek.com" rhost-flags-OK-FAIL-OK-FAIL) by vger.kernel.org
        with ESMTP id S1726469AbgBSKvt (ORCPT
        <rfc822;linux-gpio@vger.kernel.org>); Wed, 19 Feb 2020 05:51:49 -0500
X-UUID: eae8a0f3920244b999ccaa69d5529574-20200219
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mediatek.com; s=dk;
        h=Content-Transfer-Encoding:Content-Type:MIME-Version:Message-ID:Date:Subject:CC:To:From; bh=AmZc9ORKpGkus+nhQnl/IjBdRGrQrTkVLTutaQB5T1o=;
        b=slkBxmumxKbTVQ8ammt9Mn8iqA9vA2GuT5Oro6GyKIghIAUIWrGvLePR9ZFOjFRJEEOFm87hw5PlczZfFnqe43mj4O5uaGseCFJVIBJznPVpudcjbysTwRFZI9hHQu/pWXIouBdYEJAXU6e+Pkunb/KemnS0UWBdJpeU716gqHA=;
X-UUID: eae8a0f3920244b999ccaa69d5529574-20200219
Received: from mtkcas06.mediatek.inc [(172.21.101.30)] by mailgw02.mediatek.com
        (envelope-from <light.hsieh@mediatek.com>)
        (Cellopoint E-mail Firewall v4.1.10 Build 0809 with TLS)
        with ESMTP id 1281994678; Wed, 19 Feb 2020 18:51:41 +0800
Received: from mtkcas09.mediatek.inc (172.21.101.178) by
 mtkmbs02n2.mediatek.inc (172.21.101.101) with Microsoft SMTP Server (TLS) id
 15.0.1395.4; Wed, 19 Feb 2020 18:49:11 +0800
Received: from mtkswgap22.mediatek.inc (172.21.77.33) by mtkcas09.mediatek.inc
 (172.21.101.73) with Microsoft SMTP Server id 15.0.1395.4 via Frontend
 Transport; Wed, 19 Feb 2020 18:51:12 +0800
From:   <light.hsieh@mediatek.com>
To:     <linus.walleij@linaro.org>
CC:     <linux-mediatek@lists.infradead.org>, <linux-gpio@vger.kernel.org>,
        <linux-kernel@vger.kernel.org>, <sean.wang@kernel.org>,
        <kuohong.wang@mediatek.com>, Light Hsieh <light.hsieh@mediatek.com>
Subject: [RESEND PATCH v2 1/2] pinctrl: make MediaTek pinctrl v2 driver ready for buidling loadable module
Date:   Wed, 19 Feb 2020 18:51:21 +0800
Message-ID: <1582109482-13625-1-git-send-email-light.hsieh@mediatek.com>
X-Mailer: git-send-email 1.8.1.1.dirty
MIME-Version: 1.0
Content-Type: text/plain
X-TM-SNTS-SMTP: 397D6BA22DC92E823D36C9EDA32ED649E016D948CC8C71EE9F3135D425C1B96B2000:8
X-MTK:  N
Content-Transfer-Encoding: base64
Sender: linux-gpio-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-gpio.vger.kernel.org>
X-Mailing-List: linux-gpio@vger.kernel.org

RnJvbTogTGlnaHQgSHNpZWggPGxpZ2h0LmhzaWVoQG1lZGlhdGVrLmNvbT4NCg0KSW4gdGhlIGZ1
dHVyZSB3ZSB3YW50IHRvIGJlIGFibGUgdG8gYnVpbGQgdGhlIE1lZGlhVGVrIHBpbmN0cmwgZHJp
dmVyLA0KYmFzZWQgb24gcGFyaXMsIGFzIGtlcm5lbCBtb2R1bGUuIFRoaXMgcGF0Y2ggYWxsb3dz
IHBpbmN0cmwtcGFyaXMuYywgdGhlDQpleHRlcm5hbCBpbnRlcnJ1cHQgY29udHJvbGxlciBtdGst
ZWludC5jLCBhbmQgcGluY3RybC1tdGstY29tbW9uLXYyLmMgdG8NCmJlIGxvYWRhYmxlIGFzIG1v
ZHVsZS4NCg0KVGhlIGZvbGxvd2luZyBpcyB0aGUgcmF0aW9uYWxlIGZvciBkZXRlcm1pbmluZyB3
aGV0aGVyIG10ay1laW50LmMsDQpwaW5jdHJsLW10ay1jb21tb24tdjIuYywgYW5kIHBpbmN0cmwt
cGFyaXMuYyBhcmUgYnVpbHQgYXMgbG9hZGFibGUgbW9kdWxlOg0KDQoxLiBkcml2ZXJzL3BpbmN0
cmwvbWVkaWF0ZWsvS2NvbmZpZzoNCjEuMSBQSU5DVFJMX01UWFhYWDogY2hhbmdlIGZyb20gYm9v
bCB0byB0cmlzdGF0ZS4gSXQgaXMgc3BlY2lmaWVkIGluDQogICAgICAgIGRlZmNvbmZpZyBmaWxl
LiBNVFhYWFggY2FuIG9ubHkgYmUgdGhlIHVzZXIgb2YgcGluY3RybC1wYXJpcywNCiAgICAgICAg
d2hpY2ggY2FuIE1UNjc2NSBvciBNVDgxODMuIFRoZSBwYXRjaCBmb3IgY2hhbmdpbmcNCiAgICAg
ICAgUElOQ1RSTF9NVDY3NjUgZnJvbSBib29sIHRvIHRyaXN0YXRlIHdpbGwgYmUgZ2l2ZW4gYXMg
dGhlIG5leHQNCiAgICAgICAgcGF0Y2ggb2YgdGhlIHBhdGNoIHNlcmllcy4NCjEuMiBQSU5DVFJM
X01US19QQVJJUzogY2hhbmdlIGZyb20gYm9vbCB0byB0cmlzdGF0ZSBhbmQgc2VsZWN0DQogICAg
ICAgIFBJTkNUUkxfTVRLX1YyLiBObyBuZWVkIHRvIHNwZWNpZnkgaW4gZGVmY29uZmlnIGZpbGUu
DQogICAgICAqIFBJTkNUUkxfTVRLX1BBUklTIHdpbGwgYmUgeSBpZiBhbnkgUElOQ1RSTF9NVFhY
WFggc2VsZWN0aW5nDQogICAgICAgIFBJTkNUUkxfTVRLX1BBUklTIGlzIHkuDQogICAgICAqIFBJ
TkNUUkxfTVRLX1BBUklTIHdpbGwgYmUgbiBpZiBhbGwgUElOQ1RSTF9NVFhYWFggc2VsZWN0aW5n
DQogICAgICAgIFBJTkNUUkxfTVRLX1BBUklTIGlzIG4uDQogICAgICAqIFBJTkNUUkxfTVRLX1BB
UklTIHdpbGwgYmUgbSBpZiBzb21lIFBJTkNUUkxfTVRYWFhYIHNlbGVjdGluZw0KICAgICAgICBQ
SU5DVFJMX01US19QQVJJUyBhcmUgbSBhbmQgb3RoZXIgUElOQ1RSTF9NVFhYWFggc2VsZWN0aW5n
DQogICAgICAgIFBJTkNUUkxfTVRLX1BBUklTIGFyZSBuLg0KMS4zIFBJTkNUUkxfTVRLX01PT1JF
OiBzZWxlY3QgRUlOVF9NVEsgYW5kIFBJTkNUUkxfTVRLX1YyLiBJdCBpcyBtYWtlDQogICAgICAg
IHRvIGJlIHJlYWR5IGZvciBidWlsZGluZyBhcyBsb2FkYWJsZSBrZXJuZWwgbW9kdWxlIGJlY2F1
c2UgaXQNCiAgICAgICAgaXMgbm90IHVzZWQgb24gQW5kcm9pZCBrZXJuZWwuDQoxLjQgUElOQ1RS
TF9NVEtfVjI6IGFkZCB0aGlzIHRyaXN0YXRlIGNvbmZpZyB3aGljaCBkZXBlbmRzIG9uDQogICAg
ICAgIFBJTkNUUkxfTVRLX1BBUklTIGFuZCBQSU5DVFJMX01US19NT09SRS4gTm8gbmVlZCB0byBz
cGVjaWZ5IGluDQogICAgICAgIGRlZmNvbmZpZyBmaWxlLg0KICAgICAgKiBQSU5DVFJMX01US19W
MiB3aWxsIGJlIHkgaWYgZWl0aGVyIFBJTkNUUkxfTVRLX1BBUklTIG9yDQogICAgICAgIFBJTkNU
UkxfTVRLX01PT1JFIGlzIHkuDQogICAgICAqIFBJTkNUUkxfTVRLX1YyIHdpbGwgYmUgbiBpZiBi
b3RoIFBJTkNUUkxfTVRLX1BBUklTIGFuZA0KICAgICAgICBQSU5DVFJMX01US19NT09SRSBhcmUg
bi4NCiAgICAgICogUElOQ1RSTF9NVEtfVjIgd2lsbCBiZSBtIGlmIFBJTkNUUkxfTVRLX1BBUklT
IGlzIG0gYW5kDQogICAgICAgIFBJTkNUUkxfTVRLX01PT1JFIGlzIG4uDQoxLjUgRUlOVF9NVEs6
IGNoYW5nZSBmcm9tIGJvb2wgdG8gdHJpc3RhdGUgYW5kIGFkZCBydWxlIGZvciBkZWZhdWx0Lg0K
ICAgICAgICBObyBuZWVkIHRvIHNwZWNpZnkgaW4gZGVmY29uZmlnIGZpbGUuDQogICAgICAqIEZp
cnN0IHJ1bGU6IGRldGVybWluZSBpZiBFSU5UX01USyBpcyB5IG9yIG4gYWNjb3JkaW5nIHRvDQog
ICAgICAgIHNlbGVjdGlvbiBvZiBQSU5DVFJMX01USyBvciBQSU5DVFJMX01US19NT1JFLg0KICAg
ICAgKiBTZWNvbmQgcnVsZTogZGV0ZXJtaW5lIGlmIEVJTlRfTVRLIGlzIHksIG0sIG9yIG4gYWNj
b3JkaW5nIHRvDQogICAgICAgIHNlbGVjdGlvbiBvZiBQSU5DVFJMX01US19QQVJJUy4NCg0KMi4g
ZHJpdmVycy9waW5jdHJsL21lZGlhdGVrL01ha2VmaWxlOiBVc2UgUElOQ1RSTF9NVEtfVjIgdG8g
ZGV0ZXJtaW5lDQogICAgICAgIGlmIHBpbmN0cmwtbXRrLWNvbW1vbi12Mi5jIGlzIGJ1aWx0IGFz
IGxvYWRhYmxlIG1vZHVsZSBvcg0KICAgICAgICBidWlsdC1pbi4NCg0KU2lnbmVkLW9mZi1ieTog
TGlnaHQgSHNpZWggPGxpZ2h0LmhzaWVoQG1lZGlhdGVrLmNvbT4NClJldmlld2VkLWJ5OiBNYXR0
aGlhcyBCcnVnZ2VyIDxtYXR0aGlhcy5iZ2dAZ21haWwuY29tPg0KLS0tDQogZHJpdmVycy9waW5j
dHJsL21lZGlhdGVrL0tjb25maWcgICAgICAgICAgICAgICAgIHwgMTMgKysrKysrKysrKystLQ0K
IGRyaXZlcnMvcGluY3RybC9tZWRpYXRlay9NYWtlZmlsZSAgICAgICAgICAgICAgICB8ICA1ICsr
Ky0tDQogZHJpdmVycy9waW5jdHJsL21lZGlhdGVrL210ay1laW50LmMgICAgICAgICAgICAgIHwg
IDkgKysrKysrKysrDQogZHJpdmVycy9waW5jdHJsL21lZGlhdGVrL3BpbmN0cmwtbXRrLWNvbW1v
bi12Mi5jIHwgMjQgKysrKysrKysrKysrKysrKysrKysrKysrDQogZHJpdmVycy9waW5jdHJsL21l
ZGlhdGVrL3BpbmN0cmwtcGFyaXMuYyAgICAgICAgIHwgIDUgKysrKysNCiBkcml2ZXJzL3BpbmN0
cmwvcGluY29uZi1nZW5lcmljLmMgICAgICAgICAgICAgICAgfCAgMSArDQogNiBmaWxlcyBjaGFu
Z2VkLCA1MyBpbnNlcnRpb25zKCspLCA0IGRlbGV0aW9ucygtKQ0KDQpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9waW5jdHJsL21lZGlhdGVrL0tjb25maWcgYi9kcml2ZXJzL3BpbmN0cmwvbWVkaWF0ZWsv
S2NvbmZpZw0KaW5kZXggNzAxZjlhZi4uNGNkMTEwOSAxMDA2NDQNCi0tLSBhL2RyaXZlcnMvcGlu
Y3RybC9tZWRpYXRlay9LY29uZmlnDQorKysgYi9kcml2ZXJzL3BpbmN0cmwvbWVkaWF0ZWsvS2Nv
bmZpZw0KQEAgLTMsMTAgKzMsMTIgQEAgbWVudSAiTWVkaWFUZWsgcGluY3RybCBkcml2ZXJzIg0K
IAlkZXBlbmRzIG9uIEFSQ0hfTUVESUFURUsgfHwgQ09NUElMRV9URVNUDQogDQogY29uZmlnIEVJ
TlRfTVRLDQotCWJvb2wgIk1lZGlhVGVrIEV4dGVybmFsIEludGVycnVwdCBTdXBwb3J0Ig0KKwl0
cmlzdGF0ZSAiTWVkaWFUZWsgRXh0ZXJuYWwgSW50ZXJydXB0IFN1cHBvcnQiDQogCWRlcGVuZHMg
b24gUElOQ1RSTF9NVEsgfHwgUElOQ1RSTF9NVEtfTU9PUkUgfHwgUElOQ1RSTF9NVEtfUEFSSVMg
fHwgQ09NUElMRV9URVNUDQogCXNlbGVjdCBHUElPTElCDQogCXNlbGVjdCBJUlFfRE9NQUlODQor
CWRlZmF1bHQgeSBpZiBQSU5DVFJMX01USyB8fCBQSU5DVFJMX01US19NT09SRQ0KKwlkZWZhdWx0
IFBJTkNUUkxfTVRLX1BBUklTDQogDQogY29uZmlnIFBJTkNUUkxfTVRLDQogCWJvb2wNCkBAIC0x
NywyMyArMTksMzAgQEAgY29uZmlnIFBJTkNUUkxfTVRLDQogCXNlbGVjdCBFSU5UX01USw0KIAlz
ZWxlY3QgT0ZfR1BJTw0KIA0KK2NvbmZpZyBQSU5DVFJMX01US19WMg0KKwl0cmlzdGF0ZQ0KKwlk
ZXBlbmRzIG9uIFBJTkNUUkxfTVRLX01PT1JFIHx8IFBJTkNUUkxfTVRLX1BBUklTDQorDQogY29u
ZmlnIFBJTkNUUkxfTVRLX01PT1JFDQogCWJvb2wNCiAJZGVwZW5kcyBvbiBPRg0KIAlzZWxlY3Qg
R0VORVJJQ19QSU5DT05GDQogCXNlbGVjdCBHRU5FUklDX1BJTkNUUkxfR1JPVVBTDQogCXNlbGVj
dCBHRU5FUklDX1BJTk1VWF9GVU5DVElPTlMNCisJc2VsZWN0IEVJTlRfTVRLDQogCXNlbGVjdCBH
UElPTElCDQogCXNlbGVjdCBPRl9HUElPDQorCXNlbGVjdCBQSU5DVFJMX01US19WMg0KIA0KIGNv
bmZpZyBQSU5DVFJMX01US19QQVJJUw0KLQlib29sDQorCXRyaXN0YXRlDQogCWRlcGVuZHMgb24g
T0YNCiAJc2VsZWN0IFBJTk1VWA0KIAlzZWxlY3QgR0VORVJJQ19QSU5DT05GDQogCXNlbGVjdCBH
UElPTElCDQogCXNlbGVjdCBFSU5UX01USw0KIAlzZWxlY3QgT0ZfR1BJTw0KKwlzZWxlY3QgUElO
Q1RSTF9NVEtfVjINCiANCiAjIEZvciBBUk12NyBTb0NzDQogY29uZmlnIFBJTkNUUkxfTVQyNzAx
DQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9waW5jdHJsL21lZGlhdGVrL01ha2VmaWxlIGIvZHJpdmVy
cy9waW5jdHJsL21lZGlhdGVrL01ha2VmaWxlDQppbmRleCBhNzQzMjVhLi40YjcxMzI4IDEwMDY0
NA0KLS0tIGEvZHJpdmVycy9waW5jdHJsL21lZGlhdGVrL01ha2VmaWxlDQorKysgYi9kcml2ZXJz
L3BpbmN0cmwvbWVkaWF0ZWsvTWFrZWZpbGUNCkBAIC0yLDggKzIsOSBAQA0KICMgQ29yZQ0KIG9i
ai0kKENPTkZJR19FSU5UX01USykJCSs9IG10ay1laW50Lm8NCiBvYmotJChDT05GSUdfUElOQ1RS
TF9NVEspCSs9IHBpbmN0cmwtbXRrLWNvbW1vbi5vDQotb2JqLSQoQ09ORklHX1BJTkNUUkxfTVRL
X01PT1JFKSArPSBwaW5jdHJsLW1vb3JlLm8gcGluY3RybC1tdGstY29tbW9uLXYyLm8NCi1vYmot
JChDT05GSUdfUElOQ1RSTF9NVEtfUEFSSVMpICs9IHBpbmN0cmwtcGFyaXMubyBwaW5jdHJsLW10
ay1jb21tb24tdjIubw0KK29iai0kKENPTkZJR19QSU5DVFJMX01US19WMikJKz0gcGluY3RybC1t
dGstY29tbW9uLXYyLm8NCitvYmotJChDT05GSUdfUElOQ1RSTF9NVEtfTU9PUkUpICs9IHBpbmN0
cmwtbW9vcmUubw0KK29iai0kKENPTkZJR19QSU5DVFJMX01US19QQVJJUykgKz0gcGluY3RybC1w
YXJpcy5vDQogDQogIyBTb0MgRHJpdmVycw0KIG9iai0kKENPTkZJR19QSU5DVFJMX01UMjcwMSkJ
Kz0gcGluY3RybC1tdDI3MDEubw0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvcGluY3RybC9tZWRpYXRl
ay9tdGstZWludC5jIGIvZHJpdmVycy9waW5jdHJsL21lZGlhdGVrL210ay1laW50LmMNCmluZGV4
IDdlNTI2YmNmLi45OTcwM2E4IDEwMDY0NA0KLS0tIGEvZHJpdmVycy9waW5jdHJsL21lZGlhdGVr
L210ay1laW50LmMNCisrKyBiL2RyaXZlcnMvcGluY3RybC9tZWRpYXRlay9tdGstZWludC5jDQpA
QCAtOSw2ICs5LDcgQEANCiAgKg0KICAqLw0KIA0KKyNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4N
CiAjaW5jbHVkZSA8bGludXgvZGVsYXkuaD4NCiAjaW5jbHVkZSA8bGludXgvZXJyLmg+DQogI2lu
Y2x1ZGUgPGxpbnV4L2dwaW8vZHJpdmVyLmg+DQpAQCAtMzc5LDYgKzM4MCw3IEBAIGludCBtdGtf
ZWludF9kb19zdXNwZW5kKHN0cnVjdCBtdGtfZWludCAqZWludCkNCiANCiAJcmV0dXJuIDA7DQog
fQ0KK0VYUE9SVF9TWU1CT0xfR1BMKG10a19laW50X2RvX3N1c3BlbmQpOw0KIA0KIGludCBtdGtf
ZWludF9kb19yZXN1bWUoc3RydWN0IG10a19laW50ICplaW50KQ0KIHsNCkBAIC0zODYsNiArMzg4
LDcgQEAgaW50IG10a19laW50X2RvX3Jlc3VtZShzdHJ1Y3QgbXRrX2VpbnQgKmVpbnQpDQogDQog
CXJldHVybiAwOw0KIH0NCitFWFBPUlRfU1lNQk9MX0dQTChtdGtfZWludF9kb19yZXN1bWUpOw0K
IA0KIGludCBtdGtfZWludF9zZXRfZGVib3VuY2Uoc3RydWN0IG10a19laW50ICplaW50LCB1bnNp
Z25lZCBsb25nIGVpbnRfbnVtLA0KIAkJCSAgdW5zaWduZWQgaW50IGRlYm91bmNlKQ0KQEAgLTQ0
MCw2ICs0NDMsNyBAQCBpbnQgbXRrX2VpbnRfc2V0X2RlYm91bmNlKHN0cnVjdCBtdGtfZWludCAq
ZWludCwgdW5zaWduZWQgbG9uZyBlaW50X251bSwNCiANCiAJcmV0dXJuIDA7DQogfQ0KK0VYUE9S
VF9TWU1CT0xfR1BMKG10a19laW50X3NldF9kZWJvdW5jZSk7DQogDQogaW50IG10a19laW50X2Zp
bmRfaXJxKHN0cnVjdCBtdGtfZWludCAqZWludCwgdW5zaWduZWQgbG9uZyBlaW50X24pDQogew0K
QEAgLTQ1MSw2ICs0NTUsNyBAQCBpbnQgbXRrX2VpbnRfZmluZF9pcnEoc3RydWN0IG10a19laW50
ICplaW50LCB1bnNpZ25lZCBsb25nIGVpbnRfbikNCiANCiAJcmV0dXJuIGlycTsNCiB9DQorRVhQ
T1JUX1NZTUJPTF9HUEwobXRrX2VpbnRfZmluZF9pcnEpOw0KIA0KIGludCBtdGtfZWludF9kb19p
bml0KHN0cnVjdCBtdGtfZWludCAqZWludCkNCiB7DQpAQCAtNDk1LDMgKzUwMCw3IEBAIGludCBt
dGtfZWludF9kb19pbml0KHN0cnVjdCBtdGtfZWludCAqZWludCkNCiANCiAJcmV0dXJuIDA7DQog
fQ0KK0VYUE9SVF9TWU1CT0xfR1BMKG10a19laW50X2RvX2luaXQpOw0KKw0KK01PRFVMRV9MSUNF
TlNFKCJHUEwgdjIiKTsNCitNT0RVTEVfREVTQ1JJUFRJT04oIk1lZGlhVGVrIEVJTlQgRHJpdmVy
Iik7DQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9waW5jdHJsL21lZGlhdGVrL3BpbmN0cmwtbXRrLWNv
bW1vbi12Mi5jIGIvZHJpdmVycy9waW5jdHJsL21lZGlhdGVrL3BpbmN0cmwtbXRrLWNvbW1vbi12
Mi5jDQppbmRleCAxZGE5NDI1Li5jZGYyZDY5IDEwMDY0NA0KLS0tIGEvZHJpdmVycy9waW5jdHJs
L21lZGlhdGVrL3BpbmN0cmwtbXRrLWNvbW1vbi12Mi5jDQorKysgYi9kcml2ZXJzL3BpbmN0cmwv
bWVkaWF0ZWsvcGluY3RybC1tdGstY29tbW9uLXYyLmMNCkBAIC02LDYgKzYsNyBAQA0KICAqDQog
ICovDQogDQorI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPg0KICNpbmNsdWRlIDxkdC1iaW5kaW5n
cy9waW5jdHJsL210NjV4eC5oPg0KICNpbmNsdWRlIDxsaW51eC9kZXZpY2UuaD4NCiAjaW5jbHVk
ZSA8bGludXgvZXJyLmg+DQpAQCAtMjA2LDYgKzIwNyw3IEBAIGludCBtdGtfaHdfc2V0X3ZhbHVl
KHN0cnVjdCBtdGtfcGluY3RybCAqaHcsIGNvbnN0IHN0cnVjdCBtdGtfcGluX2Rlc2MgKmRlc2Ms
DQogDQogCXJldHVybiAwOw0KIH0NCitFWFBPUlRfU1lNQk9MX0dQTChtdGtfaHdfc2V0X3ZhbHVl
KTsNCiANCiBpbnQgbXRrX2h3X2dldF92YWx1ZShzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3LCBjb25z
dCBzdHJ1Y3QgbXRrX3Bpbl9kZXNjICpkZXNjLA0KIAkJICAgICBpbnQgZmllbGQsIGludCAqdmFs
dWUpDQpAQCAtMjI1LDYgKzIyNyw3IEBAIGludCBtdGtfaHdfZ2V0X3ZhbHVlKHN0cnVjdCBtdGtf
cGluY3RybCAqaHcsIGNvbnN0IHN0cnVjdCBtdGtfcGluX2Rlc2MgKmRlc2MsDQogDQogCXJldHVy
biAwOw0KIH0NCitFWFBPUlRfU1lNQk9MX0dQTChtdGtfaHdfZ2V0X3ZhbHVlKTsNCiANCiBzdGF0
aWMgaW50IG10a194dF9maW5kX2VpbnRfbnVtKHN0cnVjdCBtdGtfcGluY3RybCAqaHcsIHVuc2ln
bmVkIGxvbmcgZWludF9uKQ0KIHsNCkBAIC0zNjMsNiArMzY2LDcgQEAgaW50IG10a19idWlsZF9l
aW50KHN0cnVjdCBtdGtfcGluY3RybCAqaHcsIHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYp
DQogDQogCXJldHVybiBtdGtfZWludF9kb19pbml0KGh3LT5laW50KTsNCiB9DQorRVhQT1JUX1NZ
TUJPTF9HUEwobXRrX2J1aWxkX2VpbnQpOw0KIA0KIC8qIFJldmlzaW9uIDAgKi8NCiBpbnQgbXRr
X3BpbmNvbmZfYmlhc19kaXNhYmxlX3NldChzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3LA0KQEAgLTM4
Miw2ICszODYsNyBAQCBpbnQgbXRrX3BpbmNvbmZfYmlhc19kaXNhYmxlX3NldChzdHJ1Y3QgbXRr
X3BpbmN0cmwgKmh3LA0KIA0KIAlyZXR1cm4gMDsNCiB9DQorRVhQT1JUX1NZTUJPTF9HUEwobXRr
X3BpbmNvbmZfYmlhc19kaXNhYmxlX3NldCk7DQogDQogaW50IG10a19waW5jb25mX2JpYXNfZGlz
YWJsZV9nZXQoc3RydWN0IG10a19waW5jdHJsICpodywNCiAJCQkJIGNvbnN0IHN0cnVjdCBtdGtf
cGluX2Rlc2MgKmRlc2MsIGludCAqcmVzKQ0KQEAgLTQwNCw2ICs0MDksNyBAQCBpbnQgbXRrX3Bp
bmNvbmZfYmlhc19kaXNhYmxlX2dldChzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3LA0KIA0KIAlyZXR1
cm4gMDsNCiB9DQorRVhQT1JUX1NZTUJPTF9HUEwobXRrX3BpbmNvbmZfYmlhc19kaXNhYmxlX2dl
dCk7DQogDQogaW50IG10a19waW5jb25mX2JpYXNfc2V0KHN0cnVjdCBtdGtfcGluY3RybCAqaHcs
DQogCQkJIGNvbnN0IHN0cnVjdCBtdGtfcGluX2Rlc2MgKmRlc2MsIGJvb2wgcHVsbHVwKQ0KQEAg
LTQyMyw2ICs0MjksNyBAQCBpbnQgbXRrX3BpbmNvbmZfYmlhc19zZXQoc3RydWN0IG10a19waW5j
dHJsICpodywNCiANCiAJcmV0dXJuIDA7DQogfQ0KK0VYUE9SVF9TWU1CT0xfR1BMKG10a19waW5j
b25mX2JpYXNfc2V0KTsNCiANCiBpbnQgbXRrX3BpbmNvbmZfYmlhc19nZXQoc3RydWN0IG10a19w
aW5jdHJsICpodywNCiAJCQkgY29uc3Qgc3RydWN0IG10a19waW5fZGVzYyAqZGVzYywgYm9vbCBw
dWxsdXAsIGludCAqcmVzKQ0KQEAgLTQ0Miw2ICs0NDksNyBAQCBpbnQgbXRrX3BpbmNvbmZfYmlh
c19nZXQoc3RydWN0IG10a19waW5jdHJsICpodywNCiANCiAJcmV0dXJuIDA7DQogfQ0KK0VYUE9S
VF9TWU1CT0xfR1BMKG10a19waW5jb25mX2JpYXNfZ2V0KTsNCiANCiAvKiBSZXZpc2lvbiAxICov
DQogaW50IG10a19waW5jb25mX2JpYXNfZGlzYWJsZV9zZXRfcmV2MShzdHJ1Y3QgbXRrX3BpbmN0
cmwgKmh3LA0KQEAgLTQ1Niw2ICs0NjQsNyBAQCBpbnQgbXRrX3BpbmNvbmZfYmlhc19kaXNhYmxl
X3NldF9yZXYxKHN0cnVjdCBtdGtfcGluY3RybCAqaHcsDQogDQogCXJldHVybiAwOw0KIH0NCitF
WFBPUlRfU1lNQk9MX0dQTChtdGtfcGluY29uZl9iaWFzX2Rpc2FibGVfc2V0X3JldjEpOw0KIA0K
IGludCBtdGtfcGluY29uZl9iaWFzX2Rpc2FibGVfZ2V0X3JldjEoc3RydWN0IG10a19waW5jdHJs
ICpodywNCiAJCQkJICAgICAgY29uc3Qgc3RydWN0IG10a19waW5fZGVzYyAqZGVzYywgaW50ICpy
ZXMpDQpAQCAtNDczLDYgKzQ4Miw3IEBAIGludCBtdGtfcGluY29uZl9iaWFzX2Rpc2FibGVfZ2V0
X3JldjEoc3RydWN0IG10a19waW5jdHJsICpodywNCiANCiAJcmV0dXJuIDA7DQogfQ0KK0VYUE9S
VF9TWU1CT0xfR1BMKG10a19waW5jb25mX2JpYXNfZGlzYWJsZV9nZXRfcmV2MSk7DQogDQogaW50
IG10a19waW5jb25mX2JpYXNfc2V0X3JldjEoc3RydWN0IG10a19waW5jdHJsICpodywNCiAJCQkg
ICAgICBjb25zdCBzdHJ1Y3QgbXRrX3Bpbl9kZXNjICpkZXNjLCBib29sIHB1bGx1cCkNCkBAIC00
OTIsNiArNTAyLDcgQEAgaW50IG10a19waW5jb25mX2JpYXNfc2V0X3JldjEoc3RydWN0IG10a19w
aW5jdHJsICpodywNCiANCiAJcmV0dXJuIDA7DQogfQ0KK0VYUE9SVF9TWU1CT0xfR1BMKG10a19w
aW5jb25mX2JpYXNfc2V0X3JldjEpOw0KIA0KIGludCBtdGtfcGluY29uZl9iaWFzX2dldF9yZXYx
KHN0cnVjdCBtdGtfcGluY3RybCAqaHcsDQogCQkJICAgICAgY29uc3Qgc3RydWN0IG10a19waW5f
ZGVzYyAqZGVzYywgYm9vbCBwdWxsdXAsDQpAQCAtNTE3LDYgKzUyOCw3IEBAIGludCBtdGtfcGlu
Y29uZl9iaWFzX2dldF9yZXYxKHN0cnVjdCBtdGtfcGluY3RybCAqaHcsDQogDQogCXJldHVybiAw
Ow0KIH0NCitFWFBPUlRfU1lNQk9MX0dQTChtdGtfcGluY29uZl9iaWFzX3NldF9nZXYxKTsNCiAN
CiAvKiBDb21ibyBmb3IgdGhlIGZvbGxvd2luZyBwdWxsIHJlZ2lzdGVyIHR5cGU6DQogICogMS4g
UFUgKyBQRA0KQEAgLTcxNyw2ICs3MjksNyBAQCBpbnQgbXRrX3BpbmNvbmZfYmlhc19zZXRfY29t
Ym8oc3RydWN0IG10a19waW5jdHJsICpodywNCiBvdXQ6DQogCXJldHVybiBlcnI7DQogfQ0KK0VY
UE9SVF9TWU1CT0xfR1BMKG10a19waW5jb25mX2JpYXNfc2V0X2NvbWJvKTsNCiANCiBpbnQgbXRr
X3BpbmNvbmZfYmlhc19nZXRfY29tYm8oc3RydWN0IG10a19waW5jdHJsICpodywNCiAJCQkgICAg
ICBjb25zdCBzdHJ1Y3QgbXRrX3Bpbl9kZXNjICpkZXNjLA0KQEAgLTczNyw2ICs3NTAsNyBAQCBp
bnQgbXRrX3BpbmNvbmZfYmlhc19nZXRfY29tYm8oc3RydWN0IG10a19waW5jdHJsICpodywNCiBv
dXQ6DQogCXJldHVybiBlcnI7DQogfQ0KK0VYUE9SVF9TWU1CT0xfR1BMKG10a19waW5jb25mX2Jp
YXNfZ2V0X2NvbWJvKTsNCiANCiAvKiBSZXZpc2lvbiAwICovDQogaW50IG10a19waW5jb25mX2Ry
aXZlX3NldChzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3LA0KQEAgLTc2Niw2ICs3ODAsNyBAQCBpbnQg
bXRrX3BpbmNvbmZfZHJpdmVfc2V0KHN0cnVjdCBtdGtfcGluY3RybCAqaHcsDQogDQogCXJldHVy
biBlcnI7DQogfQ0KK0VYUE9SVF9TWU1CT0xfR1BMKG10a19waW5jb25mX2RyaXZlX3NldCk7DQog
DQogaW50IG10a19waW5jb25mX2RyaXZlX2dldChzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3LA0KIAkJ
CSAgY29uc3Qgc3RydWN0IG10a19waW5fZGVzYyAqZGVzYywgaW50ICp2YWwpDQpAQCAtNzkwLDYg
KzgwNSw3IEBAIGludCBtdGtfcGluY29uZl9kcml2ZV9nZXQoc3RydWN0IG10a19waW5jdHJsICpo
dywNCiANCiAJcmV0dXJuIDA7DQogfQ0KK0VYUE9SVF9TWU1CT0xfR1BMKG10a19waW5jb25mX2Ry
aXZlX2dldCk7DQogDQogLyogUmV2aXNpb24gMSAqLw0KIGludCBtdGtfcGluY29uZl9kcml2ZV9z
ZXRfcmV2MShzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3LA0KQEAgLTgxMSw2ICs4MjcsNyBAQCBpbnQg
bXRrX3BpbmNvbmZfZHJpdmVfc2V0X3JldjEoc3RydWN0IG10a19waW5jdHJsICpodywNCiANCiAJ
cmV0dXJuIGVycjsNCiB9DQorRVhQT1JUX1NZTUJPTF9HUEwobXRrX3BpbmNvbmZfZHJpdmVfc2V0
X3JldjEpOw0KIA0KIGludCBtdGtfcGluY29uZl9kcml2ZV9nZXRfcmV2MShzdHJ1Y3QgbXRrX3Bp
bmN0cmwgKmh3LA0KIAkJCSAgICAgICBjb25zdCBzdHJ1Y3QgbXRrX3Bpbl9kZXNjICpkZXNjLCBp
bnQgKnZhbCkNCkBAIC04MjgsMTggKzg0NSwyMSBAQCBpbnQgbXRrX3BpbmNvbmZfZHJpdmVfZ2V0
X3JldjEoc3RydWN0IG10a19waW5jdHJsICpodywNCiANCiAJcmV0dXJuIDA7DQogfQ0KK0VYUE9S
VF9TWU1CT0xfR1BMKG10a19waW5jb25mX2RyaXZlX2dldF9yZXYxKTsNCiANCiBpbnQgbXRrX3Bp
bmNvbmZfZHJpdmVfc2V0X3JhdyhzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3LA0KIAkJCSAgICAgICBj
b25zdCBzdHJ1Y3QgbXRrX3Bpbl9kZXNjICpkZXNjLCB1MzIgYXJnKQ0KIHsNCiAJcmV0dXJuIG10
a19od19zZXRfdmFsdWUoaHcsIGRlc2MsIFBJTkNUUkxfUElOX1JFR19EUlYsIGFyZyk7DQogfQ0K
K0VYUE9SVF9TWU1CT0xfR1BMKG10a19waW5jb25mX2RyaXZlX3NldF9yYXcpOw0KIA0KIGludCBt
dGtfcGluY29uZl9kcml2ZV9nZXRfcmF3KHN0cnVjdCBtdGtfcGluY3RybCAqaHcsDQogCQkJICAg
ICAgIGNvbnN0IHN0cnVjdCBtdGtfcGluX2Rlc2MgKmRlc2MsIGludCAqdmFsKQ0KIHsNCiAJcmV0
dXJuIG10a19od19nZXRfdmFsdWUoaHcsIGRlc2MsIFBJTkNUUkxfUElOX1JFR19EUlYsIHZhbCk7
DQogfQ0KK0VYUE9SVF9TWU1CT0xfR1BMKG10a19waW5jb25mX2RyaXZlX2dldF9yYXcpOw0KIA0K
IGludCBtdGtfcGluY29uZl9hZHZfcHVsbF9zZXQoc3RydWN0IG10a19waW5jdHJsICpodywNCiAJ
CQkgICAgIGNvbnN0IHN0cnVjdCBtdGtfcGluX2Rlc2MgKmRlc2MsIGJvb2wgcHVsbHVwLA0KQEAg
LTg4MCw2ICs5MDAsNyBAQCBpbnQgbXRrX3BpbmNvbmZfYWR2X3B1bGxfc2V0KHN0cnVjdCBtdGtf
cGluY3RybCAqaHcsDQogDQogCXJldHVybiBlcnI7DQogfQ0KK0VYUE9SVF9TWU1CT0xfR1BMKG10
a19waW5jb25mX2Fkdl9wdWxsX3NldCk7DQogDQogaW50IG10a19waW5jb25mX2Fkdl9wdWxsX2dl
dChzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3LA0KIAkJCSAgICAgY29uc3Qgc3RydWN0IG10a19waW5f
ZGVzYyAqZGVzYywgYm9vbCBwdWxsdXAsDQpAQCAtOTIyLDYgKzk0Myw3IEBAIGludCBtdGtfcGlu
Y29uZl9hZHZfcHVsbF9nZXQoc3RydWN0IG10a19waW5jdHJsICpodywNCiANCiAJcmV0dXJuIDA7
DQogfQ0KK0VYUE9SVF9TWU1CT0xfR1BMKG10a19waW5jb25mX2Fkdl9wdWxsX2dldCk7DQogDQog
aW50IG10a19waW5jb25mX2Fkdl9kcml2ZV9zZXQoc3RydWN0IG10a19waW5jdHJsICpodywNCiAJ
CQkgICAgICBjb25zdCBzdHJ1Y3QgbXRrX3Bpbl9kZXNjICpkZXNjLCB1MzIgYXJnKQ0KQEAgLTk0
OCw2ICs5NzAsNyBAQCBpbnQgbXRrX3BpbmNvbmZfYWR2X2RyaXZlX3NldChzdHJ1Y3QgbXRrX3Bp
bmN0cmwgKmh3LA0KIA0KIAlyZXR1cm4gZXJyOw0KIH0NCitFWFBPUlRfU1lNQk9MX0dQTChtdGtf
cGluY29uZl9hZHZfZHJpdmVfc2V0KTsNCiANCiBpbnQgbXRrX3BpbmNvbmZfYWR2X2RyaXZlX2dl
dChzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3LA0KIAkJCSAgICAgIGNvbnN0IHN0cnVjdCBtdGtfcGlu
X2Rlc2MgKmRlc2MsIHUzMiAqdmFsKQ0KQEAgLTk3MSwzICs5OTQsNCBAQCBpbnQgbXRrX3BpbmNv
bmZfYWR2X2RyaXZlX2dldChzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3LA0KIA0KIAlyZXR1cm4gMDsN
CiB9DQorRVhQT1JUX1NZTUJPTF9HUEwobXRrX3BpbmNvbmZfYWR2X2RyaXZlX2dldCk7DQpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9waW5jdHJsL21lZGlhdGVrL3BpbmN0cmwtcGFyaXMuYyBiL2RyaXZl
cnMvcGluY3RybC9tZWRpYXRlay9waW5jdHJsLXBhcmlzLmMNCmluZGV4IDgzYmYyOWMuLmFmOTc3
OTQgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL3BpbmN0cmwvbWVkaWF0ZWsvcGluY3RybC1wYXJpcy5j
DQorKysgYi9kcml2ZXJzL3BpbmN0cmwvbWVkaWF0ZWsvcGluY3RybC1wYXJpcy5jDQpAQCAtOSw2
ICs5LDcgQEANCiAgKgkgICBIb25nemhvdS5ZYW5nIDxob25nemhvdS55YW5nQG1lZGlhdGVrLmNv
bT4NCiAgKi8NCiANCisjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+DQogI2luY2x1ZGUgPGxpbnV4
L2dwaW8vZHJpdmVyLmg+DQogI2luY2x1ZGUgPGR0LWJpbmRpbmdzL3BpbmN0cmwvbXQ2NXh4Lmg+
DQogI2luY2x1ZGUgInBpbmN0cmwtcGFyaXMuaCINCkBAIC0xMDM3LDMgKzEwMzgsNyBAQCBzdGF0
aWMgaW50IG10a19wYXJpc19waW5jdHJsX3Jlc3VtZShzdHJ1Y3QgZGV2aWNlICpkZXZpY2UpDQog
CS5zdXNwZW5kX25vaXJxID0gbXRrX3BhcmlzX3BpbmN0cmxfc3VzcGVuZCwNCiAJLnJlc3VtZV9u
b2lycSA9IG10a19wYXJpc19waW5jdHJsX3Jlc3VtZSwNCiB9Ow0KK0VYUE9SVF9TWU1CT0xfR1BM
KG10a19wYXJpc19waW5jdHJsX3Byb2JlKTsNCisNCitNT0RVTEVfTElDRU5TRSgiR1BMIHYyIik7
DQorTU9EVUxFX0RFU0NSSVBUSU9OKCJNZWRpYVRlayBQaW5jdHJsIENvbW1vbiBEcml2ZXIgVjIg
UGFyaXMiKTsNCmRpZmYgLS1naXQgYS9kcml2ZXJzL3BpbmN0cmwvcGluY29uZi1nZW5lcmljLmMg
Yi9kcml2ZXJzL3BpbmN0cmwvcGluY29uZi1nZW5lcmljLmMNCmluZGV4IDllYjg2MzAuLmRmZWY0
NzEgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL3BpbmN0cmwvcGluY29uZi1nZW5lcmljLmMNCisrKyBi
L2RyaXZlcnMvcGluY3RybC9waW5jb25mLWdlbmVyaWMuYw0KQEAgLTI4Niw2ICsyODYsNyBAQCBp
bnQgcGluY29uZl9nZW5lcmljX3BhcnNlX2R0X2NvbmZpZyhzdHJ1Y3QgZGV2aWNlX25vZGUgKm5w
LA0KIAlrZnJlZShjZmcpOw0KIAlyZXR1cm4gcmV0Ow0KIH0NCitFWFBPUlRfU1lNQk9MX0dQTChw
aW5jb25mX2dlbmVyaWNfcGFyc2VfZHRfY29uZmlnKTsNCiANCiBpbnQgcGluY29uZl9nZW5lcmlj
X2R0X3N1Ym5vZGVfdG9fbWFwKHN0cnVjdCBwaW5jdHJsX2RldiAqcGN0bGRldiwNCiAJCXN0cnVj
dCBkZXZpY2Vfbm9kZSAqbnAsIHN0cnVjdCBwaW5jdHJsX21hcCAqKm1hcCwNCi0tIA0KMS44LjEu
MS5kaXJ0eQ0K

