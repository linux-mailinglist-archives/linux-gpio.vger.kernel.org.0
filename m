Return-Path: <linux-gpio-owner@vger.kernel.org>
X-Original-To: lists+linux-gpio@lfdr.de
Delivered-To: lists+linux-gpio@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 6D3D81622F3
	for <lists+linux-gpio@lfdr.de>; Tue, 18 Feb 2020 10:03:48 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726264AbgBRJDr (ORCPT <rfc822;lists+linux-gpio@lfdr.de>);
        Tue, 18 Feb 2020 04:03:47 -0500
Received: from mailgw02.mediatek.com ([210.61.82.184]:47951 "EHLO
        mailgw02.mediatek.com" rhost-flags-OK-FAIL-OK-FAIL) by vger.kernel.org
        with ESMTP id S1726193AbgBRJDr (ORCPT
        <rfc822;linux-gpio@vger.kernel.org>); Tue, 18 Feb 2020 04:03:47 -0500
X-UUID: ee8eb1f503454e779ba3fac8aea5c13c-20200218
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mediatek.com; s=dk;
        h=Content-Transfer-Encoding:Content-Type:MIME-Version:Message-ID:Date:Subject:CC:To:From; bh=hp14eaxDN44Qpgi9FnlDryjalZhUF51GZ0if2Ng4jkQ=;
        b=KWL5MIR7ZXzO11+QIpcf04X+HlOu23aMZrNoKU0dLAwmxM7yhv0ONPipVJzq6QH2S84R8yLSFhWUFzl6R6kEi+g3Z4Qjd0GA5HXvpyhPbNtj289D8kGYvjjvf37bxrc5uqs5+lzz/3tyWzpduLl1avmBqoGjflK+fyIwiT3cO2U=;
X-UUID: ee8eb1f503454e779ba3fac8aea5c13c-20200218
Received: from mtkcas06.mediatek.inc [(172.21.101.30)] by mailgw02.mediatek.com
        (envelope-from <light.hsieh@mediatek.com>)
        (Cellopoint E-mail Firewall v4.1.10 Build 0809 with TLS)
        with ESMTP id 855133698; Tue, 18 Feb 2020 17:03:36 +0800
Received: from MTKCAS06.mediatek.inc (172.21.101.30) by
 mtkmbs02n1.mediatek.inc (172.21.101.77) with Microsoft SMTP Server (TLS) id
 15.0.1395.4; Tue, 18 Feb 2020 17:01:51 +0800
Received: from mtkswgap22.mediatek.inc (172.21.77.33) by MTKCAS06.mediatek.inc
 (172.21.101.73) with Microsoft SMTP Server id 15.0.1395.4 via Frontend
 Transport; Tue, 18 Feb 2020 17:01:35 +0800
From:   <light.hsieh@mediatek.com>
To:     <linus.walleij@linaro.org>
CC:     <linux-mediatek@lists.infradead.org>, <linux-gpio@vger.kernel.org>,
        <linux-kernel@vger.kernel.org>, <sean.wang@kernel.org>,
        <kuohong.wang@mediatek.com>, Light Hsieh <light.hsieh@mediatek.com>
Subject: [PATCH v1 1/2] pinctrl: make MediaTek pinctrl v2 driver ready for buidling loadable module
Date:   Tue, 18 Feb 2020 17:03:33 +0800
Message-ID: <1582016614-20728-1-git-send-email-light.hsieh@mediatek.com>
X-Mailer: git-send-email 1.8.1.1.dirty
MIME-Version: 1.0
Content-Type: text/plain
X-MTK:  N
Content-Transfer-Encoding: base64
Sender: linux-gpio-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-gpio.vger.kernel.org>
X-Mailing-List: linux-gpio@vger.kernel.org

RnJvbTogTGlnaHQgSHNpZWggPGxpZ2h0LmhzaWVoQG1lZGlhdGVrLmNvbT4NCg0KR29vZ2xlIHBs
YW4gdG8gbWFrZSBwbGF0Zm9ybSBkcml2ZXIgYXMga2VybmVsIG1vZHVsZSBmb3IgZnV0dXJlDQpB
bmRyaW9kIGtlcm5lbC4gVGhpcyBwYXRjaCBtYWtlIHBpbmN0cmwtcGFyaXMuYyByZWFkeSBmb3Ig
YnVpbGRpbmcgYXMNCmxvYWRhYmxlIG1vZHVsZS4gQmVzaWRlcywgbXRrLWVpbnQuYyBhbmQgcGlu
Y3RybC1tdGstY29tbW9uLXYyLmMsDQp0aGUgZGVwZW5kZW50IG9iamVjdHMgb2YgcGluY3RybC1w
YXJpcy5jLCBhcmUgbWFkZSB0byBiZSByZWFkeSBmb3INCmJ1aWxkaW5nIGFzIGxvYWRhYmxlIG1v
ZHVsZS4NCg0KVGhlIGZvbGxvd2luZyBpcyB0aGUgcmF0aW9uYWxlIGZvciBkZXRlcm1pbmluZyB3
aGV0aGVyIG10ay1laW50LmMsDQpwaW5jdHJsLW10ay1jb21tb24tdjIuYywgYW5kIHBpbmN0cmwt
cGFyaXMuYyBhcmUgYnVpbHQgYXMgbG9hZGFibGUgbW9kdWxlOg0KDQoxLiBkcml2ZXJzL3BpbmN0
cmwvbWVkaWF0ZWsvS2NvbmZpZzoNCjEuMSBQSU5DVFJMX01UWFhYWDogY2hhbmdlIGZyb20gYm9v
bCB0byB0cmlzdGF0ZS4gSXQgaXMgc3BlY2lmaWVkIGluDQogICAgICAgIGRlZmNvbmZpZyBmaWxl
LiBNVFhYWFggY2FuIG9ubHkgYmUgdGhlIHVzZXIgb2YgcGluY3RybC1wYXJpcywNCiAgICAgICAg
d2hpY2ggY2FuIE1UNjc2NSBvciBNVDgxODMuIFRoZSBwYXRjaCBmb3IgY2hhbmdpbmcNCiAgICAg
ICAgUElOQ1RSTF9NVDY3NjUgZnJvbSBib29sIHRvIHRyaXN0YXRlIHdpbGwgYmUgZ2l2ZW4gYXMg
dGhlIG5leHQNCiAgICAgICAgcGF0Y2ggb2YgdGhlIHBhdGNoIHNlcmllcy4NCjEuMiBQSU5DVFJM
X01US19QQVJJUzogY2hhbmdlIGZyb20gYm9vbCB0byB0cmlzdGF0ZSBhbmQgc2VsZWN0DQogICAg
ICAgIFBJTkNUUkxfTVRLX1YyLiBObyBuZWVkIHRvIHNwZWNpZnkgaW4gZGVmY29uZmlnIGZpbGUu
DQogICAgICAqIFBJTkNUUkxfTVRLX1BBUklTIHdpbGwgYmUgeSBpZiBhbnkgUElOQ1RSTF9NVFhY
WFggc2VsZWN0aW5nDQogICAgICAgIFBJTkNUUkxfTVRLX1BBUklTIGlzIHkuDQogICAgICAqIFBJ
TkNUUkxfTVRLX1BBUklTIHdpbGwgYmUgbiBpZiBhbGwgUElOQ1RSTF9NVFhYWFggc2VsZWN0aW5n
DQogICAgICAgIFBJTkNUUkxfTVRLX1BBUklTIGlzIG4uDQogICAgICAqIFBJTkNUUkxfTVRLX1BB
UklTIHdpbGwgYmUgbSBpZiBzb21lIFBJTkNUUkxfTVRYWFhYIHNlbGVjdGluZw0KICAgICAgICBQ
SU5DVFJMX01US19QQVJJUyBhcmUgbSBhbmQgb3RoZXIgUElOQ1RSTF9NVFhYWFggc2VsZWN0aW5n
DQogICAgICAgIFBJTkNUUkxfTVRLX1BBUklTIGFyZSBuLg0KMS4zIFBJTkNUUkxfTVRLX01PT1JF
OiBzZWxlY3QgRUlOVF9NVEsgYW5kIFBJTkNUUkxfTVRLX1YyLiBJdCBpcyBtYWtlDQogICAgICAg
IHRvIGJlIHJlYWR5IGZvciBidWlsZGluZyBhcyBsb2FkYWJsZSBrZXJuZWwgbW9kdWxlIGJlY2F1
c2UgaXQNCiAgICAgICAgaXMgbm90IHVzZWQgb24gQW5kcm9pZCBrZXJuZWwuDQoxLjQgUElOQ1RS
TF9NVEtfVjI6IGFkZCB0aGlzIHRyaXN0YXRlIGNvbmZpZyB3aGljaCBkZXBlbmRzIG9uDQogICAg
ICAgIFBJTkNUUkxfTVRLX1BBUklTIGFuZCBQSU5DVFJMX01US19NT09SRS4gTm8gbmVlZCB0byBz
cGVjaWZ5IGluDQogICAgICAgIGRlZmNvbmZpZyBmaWxlLg0KICAgICAgKiBQSU5DVFJMX01US19W
MiB3aWxsIGJlIHkgaWYgZWl0aGVyIFBJTkNUUkxfTVRLX1BBUklTIG9yDQogICAgICAgIFBJTkNU
UkxfTVRLX01PT1JFIGlzIHkuDQogICAgICAqIFBJTkNUUkxfTVRLX1YyIHdpbGwgYmUgbiBpZiBi
b3RoIFBJTkNUUkxfTVRLX1BBUklTIGFuZA0KICAgICAgICBQSU5DVFJMX01US19NT09SRSBhcmUg
bi4NCiAgICAgICogUElOQ1RSTF9NVEtfVjIgd2lsbCBiZSBtIGlmIFBJTkNUUkxfTVRLX1BBUklT
IGlzIG0gYW5kDQogICAgICAgIFBJTkNUUkxfTVRLX01PT1JFIGlzIG4uDQoxLjUgRUlOVF9NVEs6
IGNoYW5nZSBmcm9tIGJvb2wgdG8gdHJpc3RhdGUgYW5kIGFkZCBydWxlIGZvciBkZWZhdWx0Lg0K
ICAgICAgICBObyBuZWVkIHRvIHNwZWNpZnkgaW4gZGVmY29uZmlnIGZpbGUuDQogICAgICAqIEZp
cnN0IHJ1bGU6IGRldGVybWluZSBpZiBFSU5UX01USyBpcyB5IG9yIG4gYWNjb3JkaW5nIHRvDQog
ICAgICAgIHNlbGVjdGlvbiBvZiBQSU5DVFJMX01USyBvciBQSU5DVFJMX01US19NT1JFLg0KICAg
ICAgKiBTZWNvbmQgcnVsZTogZGV0ZXJtaW5lIGlmIEVJTlRfTVRLIGlzIHksIG0sIG9yIG4gYWNj
b3JkaW5nIHRvDQogICAgICAgIHNlbGVjdGlvbiBvZiBQSU5DVFJMX01US19QQVJJUy4NCg0KMi4g
ZHJpdmVycy9waW5jdHJsL21lZGlhdGVrL01ha2VmaWxlOiBVc2UgUElOQ1RSTF9NVEtfVjIgdG8g
ZGV0ZXJtaW5lDQogICAgICAgIGlmIHBpbmN0cmwtbXRrLWNvbW1vbi12Mi5jIGlzIGJ1aWx0IGFz
IGxvYWRhYmxlIG1vZHVsZSBvcg0KICAgICAgICBidWlsdC1pbi4NCg0KU2lnbmVkLW9mZi1ieTog
TGlnaHQgSHNpZWggPGxpZ2h0LmhzaWVoQG1lZGlhdGVrLmNvbT4NCi0tLQ0KIGRyaXZlcnMvcGlu
Y3RybC9tZWRpYXRlay9LY29uZmlnICAgICAgICAgICAgICAgICB8IDEzICsrKysrKysrKysrLS0N
CiBkcml2ZXJzL3BpbmN0cmwvbWVkaWF0ZWsvTWFrZWZpbGUgICAgICAgICAgICAgICAgfCAgNSAr
KystLQ0KIGRyaXZlcnMvcGluY3RybC9tZWRpYXRlay9tdGstZWludC5jICAgICAgICAgICAgICB8
ICA5ICsrKysrKysrKw0KIGRyaXZlcnMvcGluY3RybC9tZWRpYXRlay9waW5jdHJsLW10ay1jb21t
b24tdjIuYyB8IDI0ICsrKysrKysrKysrKysrKysrKysrKysrKw0KIGRyaXZlcnMvcGluY3RybC9t
ZWRpYXRlay9waW5jdHJsLXBhcmlzLmMgICAgICAgICB8ICA1ICsrKysrDQogZHJpdmVycy9waW5j
dHJsL3BpbmNvbmYtZ2VuZXJpYy5jICAgICAgICAgICAgICAgIHwgIDEgKw0KIDYgZmlsZXMgY2hh
bmdlZCwgNTMgaW5zZXJ0aW9ucygrKSwgNCBkZWxldGlvbnMoLSkNCg0KZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvcGluY3RybC9tZWRpYXRlay9LY29uZmlnIGIvZHJpdmVycy9waW5jdHJsL21lZGlhdGVr
L0tjb25maWcNCmluZGV4IDcwMWY5YWYuLjRjZDExMDkgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL3Bp
bmN0cmwvbWVkaWF0ZWsvS2NvbmZpZw0KKysrIGIvZHJpdmVycy9waW5jdHJsL21lZGlhdGVrL0tj
b25maWcNCkBAIC0zLDEwICszLDEyIEBAIG1lbnUgIk1lZGlhVGVrIHBpbmN0cmwgZHJpdmVycyIN
CiAJZGVwZW5kcyBvbiBBUkNIX01FRElBVEVLIHx8IENPTVBJTEVfVEVTVA0KIA0KIGNvbmZpZyBF
SU5UX01USw0KLQlib29sICJNZWRpYVRlayBFeHRlcm5hbCBJbnRlcnJ1cHQgU3VwcG9ydCINCisJ
dHJpc3RhdGUgIk1lZGlhVGVrIEV4dGVybmFsIEludGVycnVwdCBTdXBwb3J0Ig0KIAlkZXBlbmRz
IG9uIFBJTkNUUkxfTVRLIHx8IFBJTkNUUkxfTVRLX01PT1JFIHx8IFBJTkNUUkxfTVRLX1BBUklT
IHx8IENPTVBJTEVfVEVTVA0KIAlzZWxlY3QgR1BJT0xJQg0KIAlzZWxlY3QgSVJRX0RPTUFJTg0K
KwlkZWZhdWx0IHkgaWYgUElOQ1RSTF9NVEsgfHwgUElOQ1RSTF9NVEtfTU9PUkUNCisJZGVmYXVs
dCBQSU5DVFJMX01US19QQVJJUw0KIA0KIGNvbmZpZyBQSU5DVFJMX01USw0KIAlib29sDQpAQCAt
MTcsMjMgKzE5LDMwIEBAIGNvbmZpZyBQSU5DVFJMX01USw0KIAlzZWxlY3QgRUlOVF9NVEsNCiAJ
c2VsZWN0IE9GX0dQSU8NCiANCitjb25maWcgUElOQ1RSTF9NVEtfVjINCisJdHJpc3RhdGUNCisJ
ZGVwZW5kcyBvbiBQSU5DVFJMX01US19NT09SRSB8fCBQSU5DVFJMX01US19QQVJJUw0KKw0KIGNv
bmZpZyBQSU5DVFJMX01US19NT09SRQ0KIAlib29sDQogCWRlcGVuZHMgb24gT0YNCiAJc2VsZWN0
IEdFTkVSSUNfUElOQ09ORg0KIAlzZWxlY3QgR0VORVJJQ19QSU5DVFJMX0dST1VQUw0KIAlzZWxl
Y3QgR0VORVJJQ19QSU5NVVhfRlVOQ1RJT05TDQorCXNlbGVjdCBFSU5UX01USw0KIAlzZWxlY3Qg
R1BJT0xJQg0KIAlzZWxlY3QgT0ZfR1BJTw0KKwlzZWxlY3QgUElOQ1RSTF9NVEtfVjINCiANCiBj
b25maWcgUElOQ1RSTF9NVEtfUEFSSVMNCi0JYm9vbA0KKwl0cmlzdGF0ZQ0KIAlkZXBlbmRzIG9u
IE9GDQogCXNlbGVjdCBQSU5NVVgNCiAJc2VsZWN0IEdFTkVSSUNfUElOQ09ORg0KIAlzZWxlY3Qg
R1BJT0xJQg0KIAlzZWxlY3QgRUlOVF9NVEsNCiAJc2VsZWN0IE9GX0dQSU8NCisJc2VsZWN0IFBJ
TkNUUkxfTVRLX1YyDQogDQogIyBGb3IgQVJNdjcgU29Dcw0KIGNvbmZpZyBQSU5DVFJMX01UMjcw
MQ0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvcGluY3RybC9tZWRpYXRlay9NYWtlZmlsZSBiL2RyaXZl
cnMvcGluY3RybC9tZWRpYXRlay9NYWtlZmlsZQ0KaW5kZXggYTc0MzI1YS4uNGI3MTMyOCAxMDA2
NDQNCi0tLSBhL2RyaXZlcnMvcGluY3RybC9tZWRpYXRlay9NYWtlZmlsZQ0KKysrIGIvZHJpdmVy
cy9waW5jdHJsL21lZGlhdGVrL01ha2VmaWxlDQpAQCAtMiw4ICsyLDkgQEANCiAjIENvcmUNCiBv
YmotJChDT05GSUdfRUlOVF9NVEspCQkrPSBtdGstZWludC5vDQogb2JqLSQoQ09ORklHX1BJTkNU
UkxfTVRLKQkrPSBwaW5jdHJsLW10ay1jb21tb24ubw0KLW9iai0kKENPTkZJR19QSU5DVFJMX01U
S19NT09SRSkgKz0gcGluY3RybC1tb29yZS5vIHBpbmN0cmwtbXRrLWNvbW1vbi12Mi5vDQotb2Jq
LSQoQ09ORklHX1BJTkNUUkxfTVRLX1BBUklTKSArPSBwaW5jdHJsLXBhcmlzLm8gcGluY3RybC1t
dGstY29tbW9uLXYyLm8NCitvYmotJChDT05GSUdfUElOQ1RSTF9NVEtfVjIpCSs9IHBpbmN0cmwt
bXRrLWNvbW1vbi12Mi5vDQorb2JqLSQoQ09ORklHX1BJTkNUUkxfTVRLX01PT1JFKSArPSBwaW5j
dHJsLW1vb3JlLm8NCitvYmotJChDT05GSUdfUElOQ1RSTF9NVEtfUEFSSVMpICs9IHBpbmN0cmwt
cGFyaXMubw0KIA0KICMgU29DIERyaXZlcnMNCiBvYmotJChDT05GSUdfUElOQ1RSTF9NVDI3MDEp
CSs9IHBpbmN0cmwtbXQyNzAxLm8NCmRpZmYgLS1naXQgYS9kcml2ZXJzL3BpbmN0cmwvbWVkaWF0
ZWsvbXRrLWVpbnQuYyBiL2RyaXZlcnMvcGluY3RybC9tZWRpYXRlay9tdGstZWludC5jDQppbmRl
eCA3ZTUyNmJjZi4uOTk3MDNhOCAxMDA2NDQNCi0tLSBhL2RyaXZlcnMvcGluY3RybC9tZWRpYXRl
ay9tdGstZWludC5jDQorKysgYi9kcml2ZXJzL3BpbmN0cmwvbWVkaWF0ZWsvbXRrLWVpbnQuYw0K
QEAgLTksNiArOSw3IEBADQogICoNCiAgKi8NCiANCisjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+
DQogI2luY2x1ZGUgPGxpbnV4L2RlbGF5Lmg+DQogI2luY2x1ZGUgPGxpbnV4L2Vyci5oPg0KICNp
bmNsdWRlIDxsaW51eC9ncGlvL2RyaXZlci5oPg0KQEAgLTM3OSw2ICszODAsNyBAQCBpbnQgbXRr
X2VpbnRfZG9fc3VzcGVuZChzdHJ1Y3QgbXRrX2VpbnQgKmVpbnQpDQogDQogCXJldHVybiAwOw0K
IH0NCitFWFBPUlRfU1lNQk9MX0dQTChtdGtfZWludF9kb19zdXNwZW5kKTsNCiANCiBpbnQgbXRr
X2VpbnRfZG9fcmVzdW1lKHN0cnVjdCBtdGtfZWludCAqZWludCkNCiB7DQpAQCAtMzg2LDYgKzM4
OCw3IEBAIGludCBtdGtfZWludF9kb19yZXN1bWUoc3RydWN0IG10a19laW50ICplaW50KQ0KIA0K
IAlyZXR1cm4gMDsNCiB9DQorRVhQT1JUX1NZTUJPTF9HUEwobXRrX2VpbnRfZG9fcmVzdW1lKTsN
CiANCiBpbnQgbXRrX2VpbnRfc2V0X2RlYm91bmNlKHN0cnVjdCBtdGtfZWludCAqZWludCwgdW5z
aWduZWQgbG9uZyBlaW50X251bSwNCiAJCQkgIHVuc2lnbmVkIGludCBkZWJvdW5jZSkNCkBAIC00
NDAsNiArNDQzLDcgQEAgaW50IG10a19laW50X3NldF9kZWJvdW5jZShzdHJ1Y3QgbXRrX2VpbnQg
KmVpbnQsIHVuc2lnbmVkIGxvbmcgZWludF9udW0sDQogDQogCXJldHVybiAwOw0KIH0NCitFWFBP
UlRfU1lNQk9MX0dQTChtdGtfZWludF9zZXRfZGVib3VuY2UpOw0KIA0KIGludCBtdGtfZWludF9m
aW5kX2lycShzdHJ1Y3QgbXRrX2VpbnQgKmVpbnQsIHVuc2lnbmVkIGxvbmcgZWludF9uKQ0KIHsN
CkBAIC00NTEsNiArNDU1LDcgQEAgaW50IG10a19laW50X2ZpbmRfaXJxKHN0cnVjdCBtdGtfZWlu
dCAqZWludCwgdW5zaWduZWQgbG9uZyBlaW50X24pDQogDQogCXJldHVybiBpcnE7DQogfQ0KK0VY
UE9SVF9TWU1CT0xfR1BMKG10a19laW50X2ZpbmRfaXJxKTsNCiANCiBpbnQgbXRrX2VpbnRfZG9f
aW5pdChzdHJ1Y3QgbXRrX2VpbnQgKmVpbnQpDQogew0KQEAgLTQ5NSwzICs1MDAsNyBAQCBpbnQg
bXRrX2VpbnRfZG9faW5pdChzdHJ1Y3QgbXRrX2VpbnQgKmVpbnQpDQogDQogCXJldHVybiAwOw0K
IH0NCitFWFBPUlRfU1lNQk9MX0dQTChtdGtfZWludF9kb19pbml0KTsNCisNCitNT0RVTEVfTElD
RU5TRSgiR1BMIHYyIik7DQorTU9EVUxFX0RFU0NSSVBUSU9OKCJNZWRpYVRlayBFSU5UIERyaXZl
ciIpOw0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvcGluY3RybC9tZWRpYXRlay9waW5jdHJsLW10ay1j
b21tb24tdjIuYyBiL2RyaXZlcnMvcGluY3RybC9tZWRpYXRlay9waW5jdHJsLW10ay1jb21tb24t
djIuYw0KaW5kZXggMWRhOTQyNS4uY2RmMmQ2OSAxMDA2NDQNCi0tLSBhL2RyaXZlcnMvcGluY3Ry
bC9tZWRpYXRlay9waW5jdHJsLW10ay1jb21tb24tdjIuYw0KKysrIGIvZHJpdmVycy9waW5jdHJs
L21lZGlhdGVrL3BpbmN0cmwtbXRrLWNvbW1vbi12Mi5jDQpAQCAtNiw2ICs2LDcgQEANCiAgKg0K
ICAqLw0KIA0KKyNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4NCiAjaW5jbHVkZSA8ZHQtYmluZGlu
Z3MvcGluY3RybC9tdDY1eHguaD4NCiAjaW5jbHVkZSA8bGludXgvZGV2aWNlLmg+DQogI2luY2x1
ZGUgPGxpbnV4L2Vyci5oPg0KQEAgLTIwNiw2ICsyMDcsNyBAQCBpbnQgbXRrX2h3X3NldF92YWx1
ZShzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3LCBjb25zdCBzdHJ1Y3QgbXRrX3Bpbl9kZXNjICpkZXNj
LA0KIA0KIAlyZXR1cm4gMDsNCiB9DQorRVhQT1JUX1NZTUJPTF9HUEwobXRrX2h3X3NldF92YWx1
ZSk7DQogDQogaW50IG10a19od19nZXRfdmFsdWUoc3RydWN0IG10a19waW5jdHJsICpodywgY29u
c3Qgc3RydWN0IG10a19waW5fZGVzYyAqZGVzYywNCiAJCSAgICAgaW50IGZpZWxkLCBpbnQgKnZh
bHVlKQ0KQEAgLTIyNSw2ICsyMjcsNyBAQCBpbnQgbXRrX2h3X2dldF92YWx1ZShzdHJ1Y3QgbXRr
X3BpbmN0cmwgKmh3LCBjb25zdCBzdHJ1Y3QgbXRrX3Bpbl9kZXNjICpkZXNjLA0KIA0KIAlyZXR1
cm4gMDsNCiB9DQorRVhQT1JUX1NZTUJPTF9HUEwobXRrX2h3X2dldF92YWx1ZSk7DQogDQogc3Rh
dGljIGludCBtdGtfeHRfZmluZF9laW50X251bShzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3LCB1bnNp
Z25lZCBsb25nIGVpbnRfbikNCiB7DQpAQCAtMzYzLDYgKzM2Niw3IEBAIGludCBtdGtfYnVpbGRf
ZWludChzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3LCBzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2
KQ0KIA0KIAlyZXR1cm4gbXRrX2VpbnRfZG9faW5pdChody0+ZWludCk7DQogfQ0KK0VYUE9SVF9T
WU1CT0xfR1BMKG10a19idWlsZF9laW50KTsNCiANCiAvKiBSZXZpc2lvbiAwICovDQogaW50IG10
a19waW5jb25mX2JpYXNfZGlzYWJsZV9zZXQoc3RydWN0IG10a19waW5jdHJsICpodywNCkBAIC0z
ODIsNiArMzg2LDcgQEAgaW50IG10a19waW5jb25mX2JpYXNfZGlzYWJsZV9zZXQoc3RydWN0IG10
a19waW5jdHJsICpodywNCiANCiAJcmV0dXJuIDA7DQogfQ0KK0VYUE9SVF9TWU1CT0xfR1BMKG10
a19waW5jb25mX2JpYXNfZGlzYWJsZV9zZXQpOw0KIA0KIGludCBtdGtfcGluY29uZl9iaWFzX2Rp
c2FibGVfZ2V0KHN0cnVjdCBtdGtfcGluY3RybCAqaHcsDQogCQkJCSBjb25zdCBzdHJ1Y3QgbXRr
X3Bpbl9kZXNjICpkZXNjLCBpbnQgKnJlcykNCkBAIC00MDQsNiArNDA5LDcgQEAgaW50IG10a19w
aW5jb25mX2JpYXNfZGlzYWJsZV9nZXQoc3RydWN0IG10a19waW5jdHJsICpodywNCiANCiAJcmV0
dXJuIDA7DQogfQ0KK0VYUE9SVF9TWU1CT0xfR1BMKG10a19waW5jb25mX2JpYXNfZGlzYWJsZV9n
ZXQpOw0KIA0KIGludCBtdGtfcGluY29uZl9iaWFzX3NldChzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3
LA0KIAkJCSBjb25zdCBzdHJ1Y3QgbXRrX3Bpbl9kZXNjICpkZXNjLCBib29sIHB1bGx1cCkNCkBA
IC00MjMsNiArNDI5LDcgQEAgaW50IG10a19waW5jb25mX2JpYXNfc2V0KHN0cnVjdCBtdGtfcGlu
Y3RybCAqaHcsDQogDQogCXJldHVybiAwOw0KIH0NCitFWFBPUlRfU1lNQk9MX0dQTChtdGtfcGlu
Y29uZl9iaWFzX3NldCk7DQogDQogaW50IG10a19waW5jb25mX2JpYXNfZ2V0KHN0cnVjdCBtdGtf
cGluY3RybCAqaHcsDQogCQkJIGNvbnN0IHN0cnVjdCBtdGtfcGluX2Rlc2MgKmRlc2MsIGJvb2wg
cHVsbHVwLCBpbnQgKnJlcykNCkBAIC00NDIsNiArNDQ5LDcgQEAgaW50IG10a19waW5jb25mX2Jp
YXNfZ2V0KHN0cnVjdCBtdGtfcGluY3RybCAqaHcsDQogDQogCXJldHVybiAwOw0KIH0NCitFWFBP
UlRfU1lNQk9MX0dQTChtdGtfcGluY29uZl9iaWFzX2dldCk7DQogDQogLyogUmV2aXNpb24gMSAq
Lw0KIGludCBtdGtfcGluY29uZl9iaWFzX2Rpc2FibGVfc2V0X3JldjEoc3RydWN0IG10a19waW5j
dHJsICpodywNCkBAIC00NTYsNiArNDY0LDcgQEAgaW50IG10a19waW5jb25mX2JpYXNfZGlzYWJs
ZV9zZXRfcmV2MShzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3LA0KIA0KIAlyZXR1cm4gMDsNCiB9DQor
RVhQT1JUX1NZTUJPTF9HUEwobXRrX3BpbmNvbmZfYmlhc19kaXNhYmxlX3NldF9yZXYxKTsNCiAN
CiBpbnQgbXRrX3BpbmNvbmZfYmlhc19kaXNhYmxlX2dldF9yZXYxKHN0cnVjdCBtdGtfcGluY3Ry
bCAqaHcsDQogCQkJCSAgICAgIGNvbnN0IHN0cnVjdCBtdGtfcGluX2Rlc2MgKmRlc2MsIGludCAq
cmVzKQ0KQEAgLTQ3Myw2ICs0ODIsNyBAQCBpbnQgbXRrX3BpbmNvbmZfYmlhc19kaXNhYmxlX2dl
dF9yZXYxKHN0cnVjdCBtdGtfcGluY3RybCAqaHcsDQogDQogCXJldHVybiAwOw0KIH0NCitFWFBP
UlRfU1lNQk9MX0dQTChtdGtfcGluY29uZl9iaWFzX2Rpc2FibGVfZ2V0X3JldjEpOw0KIA0KIGlu
dCBtdGtfcGluY29uZl9iaWFzX3NldF9yZXYxKHN0cnVjdCBtdGtfcGluY3RybCAqaHcsDQogCQkJ
ICAgICAgY29uc3Qgc3RydWN0IG10a19waW5fZGVzYyAqZGVzYywgYm9vbCBwdWxsdXApDQpAQCAt
NDkyLDYgKzUwMiw3IEBAIGludCBtdGtfcGluY29uZl9iaWFzX3NldF9yZXYxKHN0cnVjdCBtdGtf
cGluY3RybCAqaHcsDQogDQogCXJldHVybiAwOw0KIH0NCitFWFBPUlRfU1lNQk9MX0dQTChtdGtf
cGluY29uZl9iaWFzX3NldF9yZXYxKTsNCiANCiBpbnQgbXRrX3BpbmNvbmZfYmlhc19nZXRfcmV2
MShzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3LA0KIAkJCSAgICAgIGNvbnN0IHN0cnVjdCBtdGtfcGlu
X2Rlc2MgKmRlc2MsIGJvb2wgcHVsbHVwLA0KQEAgLTUxNyw2ICs1MjgsNyBAQCBpbnQgbXRrX3Bp
bmNvbmZfYmlhc19nZXRfcmV2MShzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3LA0KIA0KIAlyZXR1cm4g
MDsNCiB9DQorRVhQT1JUX1NZTUJPTF9HUEwobXRrX3BpbmNvbmZfYmlhc19zZXRfZ2V2MSk7DQog
DQogLyogQ29tYm8gZm9yIHRoZSBmb2xsb3dpbmcgcHVsbCByZWdpc3RlciB0eXBlOg0KICAqIDEu
IFBVICsgUEQNCkBAIC03MTcsNiArNzI5LDcgQEAgaW50IG10a19waW5jb25mX2JpYXNfc2V0X2Nv
bWJvKHN0cnVjdCBtdGtfcGluY3RybCAqaHcsDQogb3V0Og0KIAlyZXR1cm4gZXJyOw0KIH0NCitF
WFBPUlRfU1lNQk9MX0dQTChtdGtfcGluY29uZl9iaWFzX3NldF9jb21ibyk7DQogDQogaW50IG10
a19waW5jb25mX2JpYXNfZ2V0X2NvbWJvKHN0cnVjdCBtdGtfcGluY3RybCAqaHcsDQogCQkJICAg
ICAgY29uc3Qgc3RydWN0IG10a19waW5fZGVzYyAqZGVzYywNCkBAIC03MzcsNiArNzUwLDcgQEAg
aW50IG10a19waW5jb25mX2JpYXNfZ2V0X2NvbWJvKHN0cnVjdCBtdGtfcGluY3RybCAqaHcsDQog
b3V0Og0KIAlyZXR1cm4gZXJyOw0KIH0NCitFWFBPUlRfU1lNQk9MX0dQTChtdGtfcGluY29uZl9i
aWFzX2dldF9jb21ibyk7DQogDQogLyogUmV2aXNpb24gMCAqLw0KIGludCBtdGtfcGluY29uZl9k
cml2ZV9zZXQoc3RydWN0IG10a19waW5jdHJsICpodywNCkBAIC03NjYsNiArNzgwLDcgQEAgaW50
IG10a19waW5jb25mX2RyaXZlX3NldChzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3LA0KIA0KIAlyZXR1
cm4gZXJyOw0KIH0NCitFWFBPUlRfU1lNQk9MX0dQTChtdGtfcGluY29uZl9kcml2ZV9zZXQpOw0K
IA0KIGludCBtdGtfcGluY29uZl9kcml2ZV9nZXQoc3RydWN0IG10a19waW5jdHJsICpodywNCiAJ
CQkgIGNvbnN0IHN0cnVjdCBtdGtfcGluX2Rlc2MgKmRlc2MsIGludCAqdmFsKQ0KQEAgLTc5MCw2
ICs4MDUsNyBAQCBpbnQgbXRrX3BpbmNvbmZfZHJpdmVfZ2V0KHN0cnVjdCBtdGtfcGluY3RybCAq
aHcsDQogDQogCXJldHVybiAwOw0KIH0NCitFWFBPUlRfU1lNQk9MX0dQTChtdGtfcGluY29uZl9k
cml2ZV9nZXQpOw0KIA0KIC8qIFJldmlzaW9uIDEgKi8NCiBpbnQgbXRrX3BpbmNvbmZfZHJpdmVf
c2V0X3JldjEoc3RydWN0IG10a19waW5jdHJsICpodywNCkBAIC04MTEsNiArODI3LDcgQEAgaW50
IG10a19waW5jb25mX2RyaXZlX3NldF9yZXYxKHN0cnVjdCBtdGtfcGluY3RybCAqaHcsDQogDQog
CXJldHVybiBlcnI7DQogfQ0KK0VYUE9SVF9TWU1CT0xfR1BMKG10a19waW5jb25mX2RyaXZlX3Nl
dF9yZXYxKTsNCiANCiBpbnQgbXRrX3BpbmNvbmZfZHJpdmVfZ2V0X3JldjEoc3RydWN0IG10a19w
aW5jdHJsICpodywNCiAJCQkgICAgICAgY29uc3Qgc3RydWN0IG10a19waW5fZGVzYyAqZGVzYywg
aW50ICp2YWwpDQpAQCAtODI4LDE4ICs4NDUsMjEgQEAgaW50IG10a19waW5jb25mX2RyaXZlX2dl
dF9yZXYxKHN0cnVjdCBtdGtfcGluY3RybCAqaHcsDQogDQogCXJldHVybiAwOw0KIH0NCitFWFBP
UlRfU1lNQk9MX0dQTChtdGtfcGluY29uZl9kcml2ZV9nZXRfcmV2MSk7DQogDQogaW50IG10a19w
aW5jb25mX2RyaXZlX3NldF9yYXcoc3RydWN0IG10a19waW5jdHJsICpodywNCiAJCQkgICAgICAg
Y29uc3Qgc3RydWN0IG10a19waW5fZGVzYyAqZGVzYywgdTMyIGFyZykNCiB7DQogCXJldHVybiBt
dGtfaHdfc2V0X3ZhbHVlKGh3LCBkZXNjLCBQSU5DVFJMX1BJTl9SRUdfRFJWLCBhcmcpOw0KIH0N
CitFWFBPUlRfU1lNQk9MX0dQTChtdGtfcGluY29uZl9kcml2ZV9zZXRfcmF3KTsNCiANCiBpbnQg
bXRrX3BpbmNvbmZfZHJpdmVfZ2V0X3JhdyhzdHJ1Y3QgbXRrX3BpbmN0cmwgKmh3LA0KIAkJCSAg
ICAgICBjb25zdCBzdHJ1Y3QgbXRrX3Bpbl9kZXNjICpkZXNjLCBpbnQgKnZhbCkNCiB7DQogCXJl
dHVybiBtdGtfaHdfZ2V0X3ZhbHVlKGh3LCBkZXNjLCBQSU5DVFJMX1BJTl9SRUdfRFJWLCB2YWwp
Ow0KIH0NCitFWFBPUlRfU1lNQk9MX0dQTChtdGtfcGluY29uZl9kcml2ZV9nZXRfcmF3KTsNCiAN
CiBpbnQgbXRrX3BpbmNvbmZfYWR2X3B1bGxfc2V0KHN0cnVjdCBtdGtfcGluY3RybCAqaHcsDQog
CQkJICAgICBjb25zdCBzdHJ1Y3QgbXRrX3Bpbl9kZXNjICpkZXNjLCBib29sIHB1bGx1cCwNCkBA
IC04ODAsNiArOTAwLDcgQEAgaW50IG10a19waW5jb25mX2Fkdl9wdWxsX3NldChzdHJ1Y3QgbXRr
X3BpbmN0cmwgKmh3LA0KIA0KIAlyZXR1cm4gZXJyOw0KIH0NCitFWFBPUlRfU1lNQk9MX0dQTCht
dGtfcGluY29uZl9hZHZfcHVsbF9zZXQpOw0KIA0KIGludCBtdGtfcGluY29uZl9hZHZfcHVsbF9n
ZXQoc3RydWN0IG10a19waW5jdHJsICpodywNCiAJCQkgICAgIGNvbnN0IHN0cnVjdCBtdGtfcGlu
X2Rlc2MgKmRlc2MsIGJvb2wgcHVsbHVwLA0KQEAgLTkyMiw2ICs5NDMsNyBAQCBpbnQgbXRrX3Bp
bmNvbmZfYWR2X3B1bGxfZ2V0KHN0cnVjdCBtdGtfcGluY3RybCAqaHcsDQogDQogCXJldHVybiAw
Ow0KIH0NCitFWFBPUlRfU1lNQk9MX0dQTChtdGtfcGluY29uZl9hZHZfcHVsbF9nZXQpOw0KIA0K
IGludCBtdGtfcGluY29uZl9hZHZfZHJpdmVfc2V0KHN0cnVjdCBtdGtfcGluY3RybCAqaHcsDQog
CQkJICAgICAgY29uc3Qgc3RydWN0IG10a19waW5fZGVzYyAqZGVzYywgdTMyIGFyZykNCkBAIC05
NDgsNiArOTcwLDcgQEAgaW50IG10a19waW5jb25mX2Fkdl9kcml2ZV9zZXQoc3RydWN0IG10a19w
aW5jdHJsICpodywNCiANCiAJcmV0dXJuIGVycjsNCiB9DQorRVhQT1JUX1NZTUJPTF9HUEwobXRr
X3BpbmNvbmZfYWR2X2RyaXZlX3NldCk7DQogDQogaW50IG10a19waW5jb25mX2Fkdl9kcml2ZV9n
ZXQoc3RydWN0IG10a19waW5jdHJsICpodywNCiAJCQkgICAgICBjb25zdCBzdHJ1Y3QgbXRrX3Bp
bl9kZXNjICpkZXNjLCB1MzIgKnZhbCkNCkBAIC05NzEsMyArOTk0LDQgQEAgaW50IG10a19waW5j
b25mX2Fkdl9kcml2ZV9nZXQoc3RydWN0IG10a19waW5jdHJsICpodywNCiANCiAJcmV0dXJuIDA7
DQogfQ0KK0VYUE9SVF9TWU1CT0xfR1BMKG10a19waW5jb25mX2Fkdl9kcml2ZV9nZXQpOw0KZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvcGluY3RybC9tZWRpYXRlay9waW5jdHJsLXBhcmlzLmMgYi9kcml2
ZXJzL3BpbmN0cmwvbWVkaWF0ZWsvcGluY3RybC1wYXJpcy5jDQppbmRleCA4M2JmMjljLi5hZjk3
Nzk0IDEwMDY0NA0KLS0tIGEvZHJpdmVycy9waW5jdHJsL21lZGlhdGVrL3BpbmN0cmwtcGFyaXMu
Yw0KKysrIGIvZHJpdmVycy9waW5jdHJsL21lZGlhdGVrL3BpbmN0cmwtcGFyaXMuYw0KQEAgLTks
NiArOSw3IEBADQogICoJICAgSG9uZ3pob3UuWWFuZyA8aG9uZ3pob3UueWFuZ0BtZWRpYXRlay5j
b20+DQogICovDQogDQorI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPg0KICNpbmNsdWRlIDxsaW51
eC9ncGlvL2RyaXZlci5oPg0KICNpbmNsdWRlIDxkdC1iaW5kaW5ncy9waW5jdHJsL210NjV4eC5o
Pg0KICNpbmNsdWRlICJwaW5jdHJsLXBhcmlzLmgiDQpAQCAtMTAzNywzICsxMDM4LDcgQEAgc3Rh
dGljIGludCBtdGtfcGFyaXNfcGluY3RybF9yZXN1bWUoc3RydWN0IGRldmljZSAqZGV2aWNlKQ0K
IAkuc3VzcGVuZF9ub2lycSA9IG10a19wYXJpc19waW5jdHJsX3N1c3BlbmQsDQogCS5yZXN1bWVf
bm9pcnEgPSBtdGtfcGFyaXNfcGluY3RybF9yZXN1bWUsDQogfTsNCitFWFBPUlRfU1lNQk9MX0dQ
TChtdGtfcGFyaXNfcGluY3RybF9wcm9iZSk7DQorDQorTU9EVUxFX0xJQ0VOU0UoIkdQTCB2MiIp
Ow0KK01PRFVMRV9ERVNDUklQVElPTigiTWVkaWFUZWsgUGluY3RybCBDb21tb24gRHJpdmVyIFYy
IFBhcmlzIik7DQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9waW5jdHJsL3BpbmNvbmYtZ2VuZXJpYy5j
IGIvZHJpdmVycy9waW5jdHJsL3BpbmNvbmYtZ2VuZXJpYy5jDQppbmRleCA5ZWI4NjMwLi5kZmVm
NDcxIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9waW5jdHJsL3BpbmNvbmYtZ2VuZXJpYy5jDQorKysg
Yi9kcml2ZXJzL3BpbmN0cmwvcGluY29uZi1nZW5lcmljLmMNCkBAIC0yODYsNiArMjg2LDcgQEAg
aW50IHBpbmNvbmZfZ2VuZXJpY19wYXJzZV9kdF9jb25maWcoc3RydWN0IGRldmljZV9ub2RlICpu
cCwNCiAJa2ZyZWUoY2ZnKTsNCiAJcmV0dXJuIHJldDsNCiB9DQorRVhQT1JUX1NZTUJPTF9HUEwo
cGluY29uZl9nZW5lcmljX3BhcnNlX2R0X2NvbmZpZyk7DQogDQogaW50IHBpbmNvbmZfZ2VuZXJp
Y19kdF9zdWJub2RlX3RvX21hcChzdHJ1Y3QgcGluY3RybF9kZXYgKnBjdGxkZXYsDQogCQlzdHJ1
Y3QgZGV2aWNlX25vZGUgKm5wLCBzdHJ1Y3QgcGluY3RybF9tYXAgKiptYXAsDQotLSANCjEuOC4x
LjEuZGlydHkNCg==

