Return-Path: <linux-gpio+bounces-17743-lists+linux-gpio=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-gpio@lfdr.de
Delivered-To: lists+linux-gpio@lfdr.de
Received: from sv.mirrors.kernel.org (sv.mirrors.kernel.org [IPv6:2604:1380:45e3:2400::1])
	by mail.lfdr.de (Postfix) with ESMTPS id A5207A67746
	for <lists+linux-gpio@lfdr.de>; Tue, 18 Mar 2025 16:09:08 +0100 (CET)
Received: from smtp.subspace.kernel.org (relay.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-ECDSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by sv.mirrors.kernel.org (Postfix) with ESMTPS id 7B9053B84F8
	for <lists+linux-gpio@lfdr.de>; Tue, 18 Mar 2025 15:08:55 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id 1CA1220E034;
	Tue, 18 Mar 2025 15:09:05 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b="bY/YLWD5"
X-Original-To: linux-gpio@vger.kernel.org
Received: from smtp.kernel.org (aws-us-west-2-korg-mail-1.web.codeaurora.org [10.30.226.201])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id D034A28FD
	for <linux-gpio@vger.kernel.org>; Tue, 18 Mar 2025 15:09:04 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=10.30.226.201
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1742310544; cv=none; b=VnXONISEX11hnsegODI2VTZh3F2hZiTlBksPAOOZWCxp3Iyvspyc95rzzFXjOQIlsMY2s2OkSNT/MIH/ikwGzTqzO/y8/dGhNr8w3jCqzu9kRNJB9Tygoma/PwXpsg0v6Wdkm2ioiz2s7zjMyFNFCmY9dTczPBEQ9Ap5zFfQurc=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1742310544; c=relaxed/simple;
	bh=vdU/8f0tyF9gIu8kq++APU9ZcGbmFR871/ZNv1p0yno=;
	h=Date:Message-ID:From:To:Cc:Subject:In-Reply-To:References:
	 MIME-Version:Content-Type; b=RPNimxKElsX62zGmINAg3lE5u73OBNVTYWwY7u1/zJsDPJDJFSyiQtGwpbONEiUvPTcVbnbfgdw08xQTbl09W1I1bJvxLUqY0NbHSbc5WQsNw15asPu0o4tNXpjP+bUBaEauegs3PYeGB24zxDh2Sgi532yZXY7Ry327PFQxCuY=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b=bY/YLWD5; arc=none smtp.client-ip=10.30.226.201
Received: by smtp.kernel.org (Postfix) with ESMTPSA id 4BEDFC4CEDD;
	Tue, 18 Mar 2025 15:09:04 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
	s=k20201202; t=1742310544;
	bh=vdU/8f0tyF9gIu8kq++APU9ZcGbmFR871/ZNv1p0yno=;
	h=Date:From:To:Cc:Subject:In-Reply-To:References:From;
	b=bY/YLWD56FAgANNdyOdJ5vb2NXa/0IK0BSXR9AlhQQzWrwXDhdAiWszXUc5cY5mtI
	 N2xT6G1nPloEGwdm+b6wCzOQU5VHKR6MSd3cAWYQOAUAe5GubTDzcdI8obKC6anLsp
	 vlhXiKpd5egZ47UmqdI10nBb/ky8S99tUeXALMhexvtGC155jzrx7r7jv0a0usqj/c
	 O5at8ngsHKeZ5FdtvHWGPooFTH59zH33DLWZlHnE+vb7IyYOtBifPivBRB7aLsyvbV
	 3zXoDLDjX7VFJSIrpzFlCEajEIdhNjtyg+KvF34xukO8fBX0isjIgve1zW5oY9VNoa
	 x5tLbmxcudt4A==
Received: from sofa.misterjones.org ([185.219.108.64] helo=goblin-girl.misterjones.org)
	by disco-boy.misterjones.org with esmtpsa  (TLS1.3) tls TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
	(Exim 4.95)
	(envelope-from <maz@kernel.org>)
	id 1tuYYv-00EiOL-Vl;
	Tue, 18 Mar 2025 15:09:02 +0000
Date: Tue, 18 Mar 2025 15:09:01 +0000
Message-ID: <86senaml4i.wl-maz@kernel.org>
From: Marc Zyngier <maz@kernel.org>
To: Peng Fan <peng.fan@nxp.com>
Cc: Linus Walleij <linus.walleij@linaro.org>,
	Andy Shevchenko <andriy.shevchenko@linux.intel.com>,
	"brgl@bgdev.pl"
	<brgl@bgdev.pl>,
	"linux-gpio@vger.kernel.org" <linux-gpio@vger.kernel.org>
Subject: Re: GPIO TODO
In-Reply-To: <PAXPR04MB84590CCC9DA69172B665B71188DE2@PAXPR04MB8459.eurprd04.prod.outlook.com>
References: <PAXPR04MB8459BEB700FB66FE693EF1CF88DE2@PAXPR04MB8459.eurprd04.prod.outlook.com>
	<CACRpkdbHr_CpoqGwE+mXxV0My30ZcBRJmK9313fXN0rbPDPbDA@mail.gmail.com>
	<86v7s6myka.wl-maz@kernel.org>
	<PAXPR04MB84590CCC9DA69172B665B71188DE2@PAXPR04MB8459.eurprd04.prod.outlook.com>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI-EPG/1.14.7 (Harue)
 FLIM-LB/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL-LB/10.8 EasyPG/1.0.0 Emacs/29.4
 (aarch64-unknown-linux-gnu) MULE/6.0 (HANACHIRUSATO)
Precedence: bulk
X-Mailing-List: linux-gpio@vger.kernel.org
List-Id: <linux-gpio.vger.kernel.org>
List-Subscribe: <mailto:linux-gpio+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-gpio+unsubscribe@vger.kernel.org>
MIME-Version: 1.0 (generated by SEMI-EPG 1.14.7 - "Harue")
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-SA-Exim-Connect-IP: 185.219.108.64
X-SA-Exim-Rcpt-To: peng.fan@nxp.com, linus.walleij@linaro.org, andriy.shevchenko@linux.intel.com, brgl@bgdev.pl, linux-gpio@vger.kernel.org
X-SA-Exim-Mail-From: maz@kernel.org
X-SA-Exim-Scanned: No (on disco-boy.misterjones.org); SAEximRunCond expanded to false

On Tue, 18 Mar 2025 14:51:40 +0000,
Peng Fan <peng.fan@nxp.com> wrote:
>=20
> Hi Marc, Linus
>=20
> > Subject: Re: GPIO TODO
>=20
> Thanks for quick response.
>=20
> >=20
> > On Tue, 18 Mar 2025 10:00:16 +0000,
> > Linus Walleij <linus.walleij@linaro.org> wrote:
> > >
> > > On Tue, Mar 18, 2025 at 8:38=E2=80=AFAM Peng Fan <peng.fan@nxp.com>
> > wrote:
> > >
> > > > Besides the of_gpio.h, anyone working on immutable irq_chip?
> > >
> > > This work was initiated by Marc Zyngier and he has since had to
> > resign
> > > irqchip maintenance so it lands with Tomas Gleixner that has too
> > much
> > > to do (I think), but rest assured that he will be grateful if you pick
> > > it up, so just send patches.
>=20
> Thanks. I will give a look and see what I could do here.
>=20
> >=20
> > You of course still have the option to simply delete anything that is n=
ot
> > yet immutable, or remove the irq_chip patching support. The kernel
> > has been screaming for three years now, and these drivers are pretty
> > much unmaintained.
>=20
> I will do my best to add IRQCHIP_IMMUTABLE support
> for remaining irq_chips created by gpio drivers.
>=20
> Removing the irq_chips from the gpio drivers that not-converted
> immutable irq chip(if you mean this) would be rejected, I think.

I think it would actually be *very* welcome by quite a few people.

Unmaintained code is a liability, and these GPIO drivers (or at least
their irqchip part) are obviously not looked after in any meaningful
way. Such drivers are userspace facing, and I'm not convinced we want
more unmaintained code in this position.

If you plan to fix these drivers, great. You will be the de-facto
maintainer for them. But it is equally important to evaluate whether
they still have a purpose in the kernel tree.

	M.

--=20
Without deviation from the norm, progress is not possible.

