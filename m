Return-Path: <linux-gpio-owner@vger.kernel.org>
X-Original-To: lists+linux-gpio@lfdr.de
Delivered-To: lists+linux-gpio@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id ADE2A144C09
	for <lists+linux-gpio@lfdr.de>; Wed, 22 Jan 2020 07:54:00 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1728931AbgAVGx1 (ORCPT <rfc822;lists+linux-gpio@lfdr.de>);
        Wed, 22 Jan 2020 01:53:27 -0500
Received: from mailgw02.mediatek.com ([210.61.82.184]:39247 "EHLO
        mailgw02.mediatek.com" rhost-flags-OK-FAIL-OK-FAIL) by vger.kernel.org
        with ESMTP id S1726005AbgAVGx0 (ORCPT
        <rfc822;linux-gpio@vger.kernel.org>); Wed, 22 Jan 2020 01:53:26 -0500
X-UUID: 8a949a9172a649fb9605372d833f32b9-20200122
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mediatek.com; s=dk;
        h=Content-Transfer-Encoding:Content-Type:MIME-Version:References:In-Reply-To:Message-ID:Date:Subject:CC:To:From; bh=hWDA1wJTEUP+o/6FkPnsHhm3+yVXX1P3eiqaY4U4TzM=;
        b=BPy5IQf/QVjLp/8J8hZOt7uJM0rtyPuhy2d+lBrHIHoVMoCbWlqbYkETXLThcNrbEYaOZRvWw57o1j3c5xHZU0rdF3SJsPVqV6eCEl5GCHf8jguv+TriYvVGp7F5Jqx5e/Iwl4rUKdTDv6Bb2rQl4BV1feJ8rm4Icf1CxyptlJQ=;
X-UUID: 8a949a9172a649fb9605372d833f32b9-20200122
Received: from mtkcas06.mediatek.inc [(172.21.101.30)] by mailgw02.mediatek.com
        (envelope-from <light.hsieh@mediatek.com>)
        (Cellopoint E-mail Firewall v4.1.10 Build 0809 with TLS)
        with ESMTP id 365753576; Wed, 22 Jan 2020 14:53:17 +0800
Received: from mtkcas07.mediatek.inc (172.21.101.84) by
 mtkmbs02n1.mediatek.inc (172.21.101.77) with Microsoft SMTP Server (TLS) id
 15.0.1395.4; Wed, 22 Jan 2020 14:52:04 +0800
Received: from mtkswgap22.mediatek.inc (172.21.77.33) by mtkcas07.mediatek.inc
 (172.21.101.73) with Microsoft SMTP Server id 15.0.1395.4 via Frontend
 Transport; Wed, 22 Jan 2020 14:51:58 +0800
From:   <light.hsieh@mediatek.com>
To:     <linus.walleij@linaro.org>
CC:     <linux-mediatek@lists.infradead.org>, <linux-gpio@vger.kernel.org>,
        <linux-kernel@vger.kernel.org>, <sean.wang@kernel.org>,
        <kuohong.wang@mediatek.com>, Light Hsieh <light.hsieh@mediatek.com>
Subject: [PATCH v8 6/6] pinctrl: mediatek: Add support for pin configuration dump via debugfs.
Date:   Wed, 22 Jan 2020 14:53:14 +0800
Message-ID: <1579675994-7001-6-git-send-email-light.hsieh@mediatek.com>
X-Mailer: git-send-email 1.8.1.1.dirty
In-Reply-To: <1579675994-7001-1-git-send-email-light.hsieh@mediatek.com>
References: <1579675994-7001-1-git-send-email-light.hsieh@mediatek.com>
MIME-Version: 1.0
Content-Type: text/plain
X-MTK:  N
Content-Transfer-Encoding: base64
Sender: linux-gpio-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-gpio.vger.kernel.org>
X-Mailing-List: linux-gpio@vger.kernel.org

RnJvbTogTGlnaHQgSHNpZWggPGxpZ2h0LmhzaWVoQG1lZGlhdGVrLmNvbT4NCg0KQWRkIHN1cHBv
cnQgZm9yIHBpbiBjb25maWd1cmF0aW9uIGR1bXAgdmlhIGNhdHRpbmcNCi9zeXMva2VybmVsL2Rl
YnVnL3BpbmN0cmwvJHBsYXRmb3JtX2RlcGVuZGVudF9wYXRoL3BpbmNvbmYtcGlucy4NCnBpbmN0
cmwgZnJhbWV3b3JrIGhhZCBhbHJlYWR5IHN1cHBvcnQgc3VjaCBkdW1wLiBUaGlzIHBhdGNoIGlt
cGxlbWVudCB0aGUNCm9wZXJhdGlvbiBmdW5jdGlvbiBwb2ludGVyIHRvIGZ1bGxmaWxsIHRoaXMg
ZHVtcC4NCg0KU2lnbmVkLW9mZi1ieTogTGlnaHQgSHNpZWggPGxpZ2h0LmhzaWVoQG1lZGlhdGVr
LmNvbT4NCi0tLQ0KIGRyaXZlcnMvcGluY3RybC9tZWRpYXRlay9waW5jdHJsLXBhcmlzLmMgfCAx
MDkgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKw0KIGRyaXZlcnMvcGluY3RybC9tZWRp
YXRlay9waW5jdHJsLXBhcmlzLmggfCAgIDMgKw0KIDIgZmlsZXMgY2hhbmdlZCwgMTEyIGluc2Vy
dGlvbnMoKykNCg0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvcGluY3RybC9tZWRpYXRlay9waW5jdHJs
LXBhcmlzLmMgYi9kcml2ZXJzL3BpbmN0cmwvbWVkaWF0ZWsvcGluY3RybC1wYXJpcy5jDQppbmRl
eCAxMTVlYmMxLi44M2JmMjljIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9waW5jdHJsL21lZGlhdGVr
L3BpbmN0cmwtcGFyaXMuYw0KKysrIGIvZHJpdmVycy9waW5jdHJsL21lZGlhdGVrL3BpbmN0cmwt
cGFyaXMuYw0KQEAgLTUzOSwxMiArNTM5LDEyMCBAQCBzdGF0aWMgaW50IG10a19wY3RybF9nZXRf
Z3JvdXBfcGlucyhzdHJ1Y3QgcGluY3RybF9kZXYgKnBjdGxkZXYsDQogCXJldHVybiAwOw0KIH0N
CiANCitzdGF0aWMgaW50IG10a19od19nZXRfdmFsdWVfd3JhcChzdHJ1Y3QgbXRrX3BpbmN0cmwg
Kmh3LCB1bnNpZ25lZCBpbnQgZ3BpbywgaW50IGZpZWxkKQ0KK3sNCisJY29uc3Qgc3RydWN0IG10
a19waW5fZGVzYyAqZGVzYzsNCisJaW50IHZhbHVlLCBlcnI7DQorDQorCWlmIChncGlvID4gaHct
PnNvYy0+bnBpbnMpDQorCQlyZXR1cm4gLUVJTlZBTDsNCisNCisJZGVzYyA9IChjb25zdCBzdHJ1
Y3QgbXRrX3Bpbl9kZXNjICopJmh3LT5zb2MtPnBpbnNbZ3Bpb107DQorDQorCWVyciA9IG10a19o
d19nZXRfdmFsdWUoaHcsIGRlc2MsIGZpZWxkLCAmdmFsdWUpOw0KKwlpZiAoZXJyKQ0KKwkJcmV0
dXJuIGVycjsNCisNCisJcmV0dXJuIHZhbHVlOw0KK30NCisNCisjZGVmaW5lIG10a19wY3RybF9n
ZXRfcGlubXV4KGh3LCBncGlvKQkJCVwNCisJbXRrX2h3X2dldF92YWx1ZV93cmFwKGh3LCBncGlv
LCBQSU5DVFJMX1BJTl9SRUdfTU9ERSkNCisNCisjZGVmaW5lIG10a19wY3RybF9nZXRfZGlyZWN0
aW9uKGh3LCBncGlvKQkJXA0KKwltdGtfaHdfZ2V0X3ZhbHVlX3dyYXAoaHcsIGdwaW8sIFBJTkNU
UkxfUElOX1JFR19ESVIpDQorDQorI2RlZmluZSBtdGtfcGN0cmxfZ2V0X291dChodywgZ3BpbykJ
CQlcDQorCW10a19od19nZXRfdmFsdWVfd3JhcChodywgZ3BpbywgUElOQ1RSTF9QSU5fUkVHX0RP
KQ0KKw0KKyNkZWZpbmUgbXRrX3BjdHJsX2dldF9pbihodywgZ3BpbykJCQlcDQorCW10a19od19n
ZXRfdmFsdWVfd3JhcChodywgZ3BpbywgUElOQ1RSTF9QSU5fUkVHX0RJKQ0KKw0KKyNkZWZpbmUg
bXRrX3BjdHJsX2dldF9zbXQoaHcsIGdwaW8pCQkJXA0KKwltdGtfaHdfZ2V0X3ZhbHVlX3dyYXAo
aHcsIGdwaW8sIFBJTkNUUkxfUElOX1JFR19TTVQpDQorDQorI2RlZmluZSBtdGtfcGN0cmxfZ2V0
X2llcyhodywgZ3BpbykJCQlcDQorCW10a19od19nZXRfdmFsdWVfd3JhcChodywgZ3BpbywgUElO
Q1RSTF9QSU5fUkVHX0lFUykNCisNCisjZGVmaW5lIG10a19wY3RybF9nZXRfZHJpdmluZyhodywg
Z3BpbykJCQlcDQorCW10a19od19nZXRfdmFsdWVfd3JhcChodywgZ3BpbywgUElOQ1RSTF9QSU5f
UkVHX0RSVikNCisNCitzc2l6ZV90IG10a19wY3RybF9zaG93X29uZV9waW4oc3RydWN0IG10a19w
aW5jdHJsICpodywNCisJdW5zaWduZWQgaW50IGdwaW8sIGNoYXIgKmJ1ZiwgdW5zaWduZWQgaW50
IGJ1ZkxlbikNCit7DQorCWludCBwaW5tdXgsIHB1bGx1cCwgcHVsbGVuLCBsZW4gPSAwLCByMSA9
IC0xLCByMCA9IC0xOw0KKwljb25zdCBzdHJ1Y3QgbXRrX3Bpbl9kZXNjICpkZXNjOw0KKw0KKwlp
ZiAoZ3BpbyA+IGh3LT5zb2MtPm5waW5zKQ0KKwkJcmV0dXJuIC1FSU5WQUw7DQorDQorCWRlc2Mg
PSAoY29uc3Qgc3RydWN0IG10a19waW5fZGVzYyAqKSZody0+c29jLT5waW5zW2dwaW9dOw0KKwlw
aW5tdXggPSBtdGtfcGN0cmxfZ2V0X3Bpbm11eChodywgZ3Bpbyk7DQorCWlmIChwaW5tdXggPj0g
aHctPnNvYy0+bmZ1bmNzKQ0KKwkJcGlubXV4IC09IGh3LT5zb2MtPm5mdW5jczsNCisNCisJbXRr
X3BpbmNvbmZfYmlhc19nZXRfY29tYm8oaHcsIGRlc2MsICZwdWxsdXAsICZwdWxsZW4pOw0KKwlp
ZiAocHVsbGVuID09IE1US19QVVBEX1NFVF9SMVIwXzAwKSB7DQorCQlwdWxsZW4gPSAwOw0KKwkJ
cjEgPSAwOw0KKwkJcjAgPSAwOw0KKwl9IGVsc2UgaWYgKHB1bGxlbiA9PSBNVEtfUFVQRF9TRVRf
UjFSMF8wMSkgew0KKwkJcHVsbGVuID0gMTsNCisJCXIxID0gMDsNCisJCXIwID0gMTsNCisJfSBl
bHNlIGlmIChwdWxsZW4gPT0gTVRLX1BVUERfU0VUX1IxUjBfMTApIHsNCisJCXB1bGxlbiA9IDE7
DQorCQlyMSA9IDE7DQorCQlyMCA9IDA7DQorCX0gZWxzZSBpZiAocHVsbGVuID09IE1US19QVVBE
X1NFVF9SMVIwXzExKSB7DQorCQlwdWxsZW4gPSAxOw0KKwkJcjEgPSAxOw0KKwkJcjAgPSAxOw0K
Kwl9IGVsc2UgaWYgKHB1bGxlbiAhPSBNVEtfRElTQUJMRSAmJiBwdWxsZW4gIT0gTVRLX0VOQUJM
RSkgew0KKwkJcHVsbGVuID0gMDsNCisJfQ0KKwlsZW4gKz0gc25wcmludGYoYnVmICsgbGVuLCBi
dWZMZW4gLSBsZW4sDQorCQkJIiUwM2Q6ICUxZCUxZCUxZCUxZCUwMmQlMWQlMWQlMWQlMWQiLA0K
KwkJCWdwaW8sDQorCQkJcGlubXV4LA0KKwkJCW10a19wY3RybF9nZXRfZGlyZWN0aW9uKGh3LCBn
cGlvKSwNCisJCQltdGtfcGN0cmxfZ2V0X291dChodywgZ3BpbyksDQorCQkJbXRrX3BjdHJsX2dl
dF9pbihodywgZ3BpbyksDQorCQkJbXRrX3BjdHJsX2dldF9kcml2aW5nKGh3LCBncGlvKSwNCisJ
CQltdGtfcGN0cmxfZ2V0X3NtdChodywgZ3BpbyksDQorCQkJbXRrX3BjdHJsX2dldF9pZXMoaHcs
IGdwaW8pLA0KKwkJCXB1bGxlbiwNCisJCQlwdWxsdXApOw0KKw0KKwlpZiAocjEgIT0gLTEpIHsN
CisJCWxlbiArPSBzbnByaW50ZihidWYgKyBsZW4sIGJ1ZkxlbiAtIGxlbiwgIiAoJTFkICUxZClc
biIsDQorCQkJcjEsIHIwKTsNCisJfSBlbHNlIHsNCisJCWxlbiArPSBzbnByaW50ZihidWYgKyBs
ZW4sIGJ1ZkxlbiAtIGxlbiwgIlxuIik7DQorCX0NCisNCisJcmV0dXJuIGxlbjsNCit9DQorDQor
I2RlZmluZSBQSU5fREJHX0JVRl9TWiA5Ng0KK3N0YXRpYyB2b2lkIG10a19wY3RybF9kYmdfc2hv
dyhzdHJ1Y3QgcGluY3RybF9kZXYgKnBjdGxkZXYsIHN0cnVjdCBzZXFfZmlsZSAqcywNCisJCQkg
IHVuc2lnbmVkIGludCBncGlvKQ0KK3sNCisJc3RydWN0IG10a19waW5jdHJsICpodyA9IHBpbmN0
cmxfZGV2X2dldF9kcnZkYXRhKHBjdGxkZXYpOw0KKwljaGFyIGJ1ZltQSU5fREJHX0JVRl9TWl07
DQorDQorCSh2b2lkKW10a19wY3RybF9zaG93X29uZV9waW4oaHcsIGdwaW8sIGJ1ZiwgUElOX0RC
R19CVUZfU1opOw0KKw0KKwlzZXFfcHJpbnRmKHMsICIlcyIsIGJ1Zik7DQorfQ0KKw0KIHN0YXRp
YyBjb25zdCBzdHJ1Y3QgcGluY3RybF9vcHMgbXRrX3BjdGxvcHMgPSB7DQogCS5kdF9ub2RlX3Rv
X21hcAkJPSBtdGtfcGN0cmxfZHRfbm9kZV90b19tYXAsDQogCS5kdF9mcmVlX21hcAkJPSBwaW5j
dHJsX3V0aWxzX2ZyZWVfbWFwLA0KIAkuZ2V0X2dyb3Vwc19jb3VudAk9IG10a19wY3RybF9nZXRf
Z3JvdXBzX2NvdW50LA0KIAkuZ2V0X2dyb3VwX25hbWUJCT0gbXRrX3BjdHJsX2dldF9ncm91cF9u
YW1lLA0KIAkuZ2V0X2dyb3VwX3BpbnMJCT0gbXRrX3BjdHJsX2dldF9ncm91cF9waW5zLA0KKwku
cGluX2RiZ19zaG93ICAgICAgICAgICA9IG10a19wY3RybF9kYmdfc2hvdywNCiB9Ow0KIA0KIHN0
YXRpYyBpbnQgbXRrX3BteF9nZXRfZnVuY3NfY250KHN0cnVjdCBwaW5jdHJsX2RldiAqcGN0bGRl
dikNCkBAIC02NDEsNiArNzQ5LDcgQEAgc3RhdGljIGludCBtdGtfcGNvbmZfZ3JvdXBfc2V0KHN0
cnVjdCBwaW5jdHJsX2RldiAqcGN0bGRldiwgdW5zaWduZWQgZ3JvdXAsDQogCS5waW5fY29uZmln
X2dldCA9IG10a19waW5jb25mX2dldCwNCiAJLnBpbl9jb25maWdfZ3JvdXBfZ2V0CT0gbXRrX3Bj
b25mX2dyb3VwX2dldCwNCiAJLnBpbl9jb25maWdfZ3JvdXBfc2V0CT0gbXRrX3Bjb25mX2dyb3Vw
X3NldCwNCisJLmlzX2dlbmVyaWMgPSB0cnVlLA0KIH07DQogDQogc3RhdGljIHN0cnVjdCBwaW5j
dHJsX2Rlc2MgbXRrX2Rlc2MgPSB7DQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9waW5jdHJsL21lZGlh
dGVrL3BpbmN0cmwtcGFyaXMuaCBiL2RyaXZlcnMvcGluY3RybC9tZWRpYXRlay9waW5jdHJsLXBh
cmlzLmgNCmluZGV4IDNkNDM3NzEuLmFmYjc2NTAgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL3BpbmN0
cmwvbWVkaWF0ZWsvcGluY3RybC1wYXJpcy5oDQorKysgYi9kcml2ZXJzL3BpbmN0cmwvbWVkaWF0
ZWsvcGluY3RybC1wYXJpcy5oDQpAQCAtNjAsNiArNjAsOSBAQA0KIGludCBtdGtfcGFyaXNfcGlu
Y3RybF9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2LA0KIAkJCSAgICBjb25zdCBz
dHJ1Y3QgbXRrX3Bpbl9zb2MgKnNvYyk7DQogDQorc3NpemVfdCBtdGtfcGN0cmxfc2hvd19vbmVf
cGluKHN0cnVjdCBtdGtfcGluY3RybCAqaHcsDQorCXVuc2lnbmVkIGludCBncGlvLCBjaGFyICpi
dWYsIHVuc2lnbmVkIGludCBidWZMZW4pOw0KKw0KIGV4dGVybiBjb25zdCBzdHJ1Y3QgZGV2X3Bt
X29wcyBtdGtfcGFyaXNfcGluY3RybF9wbV9vcHM7DQogDQogI2VuZGlmIC8qIF9fUElOQ1RSTF9Q
QVJJU19IICovDQotLSANCjEuOC4xLjEuZGlydHkNCg==

