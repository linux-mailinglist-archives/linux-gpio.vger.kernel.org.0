Return-Path: <linux-gpio-owner@vger.kernel.org>
X-Original-To: lists+linux-gpio@lfdr.de
Delivered-To: lists+linux-gpio@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id 2B68256FA8A
	for <lists+linux-gpio@lfdr.de>; Mon, 11 Jul 2022 11:19:29 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S230283AbiGKJTW (ORCPT <rfc822;lists+linux-gpio@lfdr.de>);
        Mon, 11 Jul 2022 05:19:22 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:43118 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S231673AbiGKJSq (ORCPT
        <rfc822;linux-gpio@vger.kernel.org>); Mon, 11 Jul 2022 05:18:46 -0400
Received: from ams.source.kernel.org (ams.source.kernel.org [IPv6:2604:1380:4601:e00::1])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 5BD4B12095;
        Mon, 11 Jul 2022 02:11:56 -0700 (PDT)
Received: from smtp.kernel.org (relay.kernel.org [52.25.139.140])
        (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
        (No client certificate requested)
        by ams.source.kernel.org (Postfix) with ESMTPS id CA15FB80E76;
        Mon, 11 Jul 2022 09:11:54 +0000 (UTC)
Received: by smtp.kernel.org (Postfix) with ESMTPSA id 77686C341C0;
        Mon, 11 Jul 2022 09:11:53 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
        s=k20201202; t=1657530713;
        bh=zS87bKfiJIBHsso19uIT/c9zaNIHwuFgPFMQtBCi4wM=;
        h=Date:From:To:Cc:Subject:In-Reply-To:References:From;
        b=uccqbRKRyGtyqdtGwa8zsMcpTJbWNuT5AamvOMy8aozPi/cG0jpRz9IF/gOGPbdh4
         0eOj9pMD2wM/aSU+cahwkGya44kyxI0OvLIHGK6rGDD6wCGHWnoSEcUHVN47QNW5XG
         VdyWNPz6mDxC/1qgsigvNPxXTuo7VHH5LQwl7JYozR3EM7hxR8YclCZdpFHKBrkWLm
         KwakGe5UPdS7eCIjsVumrB8YJM/hFb+IkFkeE1OApiHdab3wxme+fu8+XD4dUzbH19
         QotTTwmIjkSqgUoK/uH4EaZYhgKSDL0ZZNvi/NhUjZdfKcOEvOeJn0kl41TqUxLFwc
         A2Bv/l1cQIrZg==
Received: from [213.208.244.172] (helo=wait-a-minute.misterjones.org)
        by disco-boy.misterjones.org with esmtpsa  (TLS1.3) tls TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
        (Exim 4.95)
        (envelope-from <maz@kernel.org>)
        id 1oApSJ-006ba9-Eb;
        Mon, 11 Jul 2022 10:11:51 +0100
Date:   Mon, 11 Jul 2022 10:11:51 +0100
Message-ID: <87k08kko88.wl-maz@kernel.org>
From:   Marc Zyngier <maz@kernel.org>
To:     Michael Walle <michael@walle.cc>
Cc:     Linus Walleij <linus.walleij@linaro.org>,
        Thomas Gleixner <tglx@linutronix.de>,
        linux-gpio@vger.kernel.org, linux-kernel@vger.kernel.org
Subject: Re: [PATCH 1/2] genirq: allow irq_set_chip_handler_name_locked() to take a const irq_chip
In-Reply-To: <20220706151553.1580790-1-michael@walle.cc>
References: <20220706151553.1580790-1-michael@walle.cc>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI-EPG/1.14.7 (Harue)
 FLIM-LB/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL-LB/10.8 EasyPG/1.0.0 Emacs/27.1
 (x86_64-pc-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI-EPG 1.14.7 - "Harue")
Content-Type: text/plain; charset=US-ASCII
X-SA-Exim-Connect-IP: 213.208.244.172
X-SA-Exim-Rcpt-To: michael@walle.cc, linus.walleij@linaro.org, tglx@linutronix.de, linux-gpio@vger.kernel.org, linux-kernel@vger.kernel.org
X-SA-Exim-Mail-From: maz@kernel.org
X-SA-Exim-Scanned: No (on disco-boy.misterjones.org); SAEximRunCond expanded to false
X-Spam-Status: No, score=-7.7 required=5.0 tests=BAYES_00,DKIMWL_WL_HIGH,
        DKIM_SIGNED,DKIM_VALID,DKIM_VALID_AU,DKIM_VALID_EF,RCVD_IN_DNSWL_HI,
        SPF_HELO_NONE,SPF_PASS,T_SCC_BODY_TEXT_LINE autolearn=ham
        autolearn_force=no version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-gpio.vger.kernel.org>
X-Mailing-List: linux-gpio@vger.kernel.org

On Wed, 06 Jul 2022 16:15:52 +0100,
Michael Walle <michael@walle.cc> wrote:
> 
> Similar to commit 393e1280f765 ("genirq: Allow irq_chip registration
> functions to take a const irq_chip"), allow the
> irq_set_chip_handler_name_locked() function to take a const irq_chip
> argument.
> 
> Signed-off-by: Michael Walle <michael@walle.cc>
> ---
> Given this is the correct approach, can this go through the pinctrl tree?
> Of not, do we need an immutable tag?

I'd prefer this sort of change went into the IRQ tree, as it
potentially has a wide ranging effect, and that the rest of these
changes went via the IRQ tree too. It makes it easy to take the branch
down if something goes wrong.

Given that I already do carry a bunch of GPIO related patches, I'm
happy to add that to the mix if Linus ack the second patch.

The change itself looks good to me.

Thanks,

	M.

-- 
Without deviation from the norm, progress is not possible.
